<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Compassionate AI technology supporting early autism identification and care for families">
    <title>Understanding Together - Supporting Autism Identification & Care</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            background-attachment: fixed;
            background-size: 100% 100%;
            color: #fff;
            overflow-x: hidden;
            cursor: none;
            scroll-behavior: smooth;
            min-height: 100vh;
            position: relative;
            /* Performance optimizations */
            transform: translateZ(0);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            will-change: scroll-position;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9Ik0gMTAwIDAgTCAwIDAgMCAxMDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAyKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+') repeat;
            opacity: 0.3;
            z-index: -1;
            pointer-events: none;
        }

        /* Ultra-Advanced 3D Cursor System */
        #customCursor {
            position: fixed;
            width: 30px;
            height: 30px;
            pointer-events: none;
            z-index: 99999;
            opacity: 1;
            visibility: visible;
            transform-style: preserve-3d;
            will-change: transform;
        }

        .cursor-outer {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 30px;
            height: 30px;
            border: 2px solid rgba(102, 126, 234, 0.5);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: all 0.15s ease-out;
            background: radial-gradient(circle, transparent 50%, rgba(102, 126, 234, 0.1) 100%);
        }

        .cursor-inner {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: linear-gradient(45deg, #667eea, #f093fb);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.6);
        }

        .cursor-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 40px;
            border: 1px solid rgba(240, 147, 251, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%) rotate(0deg);
            animation: cursorRotate 4s linear infinite;
        }

        .cursor-trail {
            position: fixed;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(245, 87, 108, 0.6), transparent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 99998;
            animation: trailFade 0.5s ease-out forwards;
        }

        @keyframes cursorRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes trailFade {
            0% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(0.3);
            }
        }

        #customCursor.hover .cursor-outer {
            width: 50px;
            height: 50px;
            border-color: rgba(245, 87, 108, 0.8);
            background: radial-gradient(circle, transparent 40%, rgba(245, 87, 108, 0.2) 100%);
        }

        #customCursor.button .cursor-outer {
            width: 60px;
            height: 60px;
            border-color: rgba(240, 147, 251, 1);
            animation: buttonPulse 1s ease-in-out infinite;
        }

        #customCursor.text .cursor-outer {
            width: 2px;
            height: 20px;
            border-radius: 2px;
            border-color: rgba(79, 172, 254, 0.8);
        }

        #customCursor.click .cursor-outer {
            transform: translate(-50%, -50%) scale(0.8);
            border-color: rgba(245, 87, 108, 1);
        }

        #customCursor.loading .cursor-outer {
            animation: loadingSpin 1s ease-in-out infinite;
            border-color: rgba(102, 126, 234, 1);
        }

        @keyframes buttonPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes loadingSpin {
            0% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
            50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.2); }
            100% { transform: translate(-50%, -50%) rotate(360deg) scale(1); }
        }

        html {
            scroll-behavior: smooth;
        }

        /* Smooth scroll container */
        .scroll-container {
            position: relative;
            will-change: transform;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        .hero-section {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2;
            will-change: transform;
            background: 
                radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(102, 126, 234, 0.15) 0%, transparent 50%);
            overflow: hidden;
            perspective: 1200px;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9Ik0gMTAwIDAgTCAwIDAgMCAxMDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsIDI1NSwgMjU1LCAwLjAyKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+') repeat;
            opacity: 0.6;
            animation: gridMove 30s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(100px, 100px); }
        }

        .hero-section::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, rgba(102, 126, 234, 0.08) 0%, transparent 70%);
            animation: pulseGlow 6s ease-in-out infinite;
        }

        @keyframes pulseGlow {
            0%, 100% { 
                transform: translate(-50%, -50%) scale(1) rotate(0deg); 
                opacity: 0.3; 
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg); 
                opacity: 0.7; 
            }
        }

        /* Floating Particles */
        .hero-section .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(102, 126, 234, 0.6);
            border-radius: 50%;
            animation: float 8s infinite ease-in-out;
        }

        .hero-section .particle:nth-child(1) {
            left: 10%;
            top: 20%;
            animation-delay: 0s;
            animation-duration: 6s;
        }

        .hero-section .particle:nth-child(2) {
            left: 20%;
            top: 80%;
            animation-delay: 1s;
            animation-duration: 8s;
        }

        .hero-section .particle:nth-child(3) {
            left: 80%;
            top: 40%;
            animation-delay: 2s;
            animation-duration: 7s;
        }

        .hero-section .particle:nth-child(4) {
            left: 70%;
            top: 10%;
            animation-delay: 3s;
            animation-duration: 9s;
        }

        .hero-section .particle:nth-child(5) {
            left: 90%;
            top: 70%;
            animation-delay: 4s;
            animation-duration: 6s;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.7;
            }
            25% {
                transform: translateY(-20px) rotate(90deg);
                opacity: 1;
            }
            50% {
                transform: translateY(-40px) rotate(180deg);
                opacity: 0.8;
            }
            75% {
                transform: translateY(-20px) rotate(270deg);
                opacity: 1;
            }
        }

        /* Floating 3D Elements */
        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .float-element {
            position: absolute;
            font-size: 3rem;
            opacity: 0.6;
            animation: float3D 12s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.5));
            cursor: none;
        }

        .brain-icon {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
            animation-duration: 14s;
        }

        .ai-icon {
            top: 30%;
            right: 15%;
            animation-delay: -3s;
            animation-duration: 11s;
        }

        .chart-icon {
            bottom: 30%;
            left: 20%;
            animation-delay: -6s;
            animation-duration: 16s;
        }

        .target-icon {
            top: 60%;
            right: 25%;
            animation-delay: -9s;
            animation-duration: 13s;
        }

        .molecule-icon {
            bottom: 20%;
            right: 10%;
            animation-delay: -12s;
            animation-duration: 15s;
        }

        @keyframes float3D {
            0%, 100% {
                transform: translateY(0px) translateX(0px) rotateY(0deg) rotateX(0deg) scale(1);
                filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.5));
            }
            20% {
                transform: translateY(-40px) translateX(20px) rotateY(72deg) rotateX(18deg) scale(1.2);
                filter: drop-shadow(0 0 30px rgba(240, 147, 251, 0.7));
            }
            40% {
                transform: translateY(-60px) translateX(-10px) rotateY(144deg) rotateX(0deg) scale(0.8);
                filter: drop-shadow(0 0 25px rgba(245, 87, 108, 0.6));
            }
            60% {
                transform: translateY(-40px) translateX(-30px) rotateY(216deg) rotateX(-18deg) scale(1.1);
                filter: drop-shadow(0 0 35px rgba(102, 126, 234, 0.8));
            }
            80% {
                transform: translateY(-20px) translateX(15px) rotateY(288deg) rotateX(12deg) scale(0.9);
                filter: drop-shadow(0 0 28px rgba(240, 147, 251, 0.6));
            }
        }

        /* Enhanced Particle System */
        .particle-system {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle-system .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.9), rgba(240, 147, 251, 0.5), transparent);
            border-radius: 50%;
            animation: particleFloat 20s linear infinite;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.6);
        }

        .particle-system .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
        .particle-system .particle:nth-child(2) { left: 20%; animation-delay: -2.5s; }
        .particle-system .particle:nth-child(3) { left: 30%; animation-delay: -5s; }
        .particle-system .particle:nth-child(4) { left: 40%; animation-delay: -7.5s; }
        .particle-system .particle:nth-child(5) { left: 50%; animation-delay: -10s; }
        .particle-system .particle:nth-child(6) { left: 60%; animation-delay: -12.5s; }
        .particle-system .particle:nth-child(7) { left: 70%; animation-delay: -15s; }
        .particle-system .particle:nth-child(8) { left: 80%; animation-delay: -17.5s; }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0px) rotate(0deg) scale(0);
                opacity: 0;
            }
            5% {
                opacity: 1;
                transform: translateY(95vh) translateX(10px) rotate(18deg) scale(1);
            }
            25% {
                transform: translateY(75vh) translateX(-20px) rotate(90deg) scale(1.2);
            }
            50% {
                transform: translateY(50vh) translateX(30px) rotate(180deg) scale(0.8);
            }
            75% {
                transform: translateY(25vh) translateX(-15px) rotate(270deg) scale(1.1);
            }
            95% {
                opacity: 1;
                transform: translateY(5vh) translateX(5px) rotate(342deg) scale(1);
            }
            100% {
                transform: translateY(-5vh) translateX(0px) rotate(360deg) scale(0);
                opacity: 0;
            }
        }

        @keyframes pulseGlow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.8; }
        }

        .hero-content {
            text-align: center;
            z-index: 15;
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem;
            backdrop-filter: blur(15px);
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 50%, 
                rgba(255, 255, 255, 0.02) 100%);
            border-radius: 30px;
            border: 2px solid rgba(255, 255, 255, 0.15);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: heroContentReveal 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
            transform: translateY(50px) rotateX(15deg);
            opacity: 0;
        }

        @keyframes heroContentReveal {
            0% {
                opacity: 0;
                transform: translateY(80px) rotateX(25deg) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg) scale(1);
            }
        }

        .hero-content:hover {
            transform: translateY(-10px) rotateX(-2deg);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 
                0 30px 80px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* Hero Badge */
        .hero-badge {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(240, 147, 251, 0.2));
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 50px;
            margin-bottom: 2rem;
            animation: badgeSlide 1.5s ease-out 0.5s both;
            transform: translateY(-30px);
            opacity: 0;
        }

        .badge-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        @keyframes badgeSlide {
            0% {
                opacity: 0;
                transform: translateY(-50px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Hero Title */
        .hero-title {
            font-size: 4.5rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            perspective: 1000px;
        }

        .title-line-1,
        .title-line-2 {
            display: block;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleShimmer 4s ease-in-out infinite,
                       titleReveal 2s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            transform: translateZ(0);
        }

        .title-line-1 {
            animation-delay: 1s;
            transform: translateY(100px) rotateX(90deg);
            opacity: 0;
        }

        .title-line-2 {
            animation-delay: 1.3s;
            transform: translateY(100px) rotateX(-90deg);
            opacity: 0;
        }

        @keyframes titleReveal {
            0% {
                opacity: 0;
                transform: translateY(100px) rotateX(90deg);
                filter: blur(20px);
            }
            50% {
                opacity: 0.8;
                transform: translateY(20px) rotateX(15deg);
                filter: blur(5px);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg);
                filter: blur(0px);
            }
        }

        @keyframes titleShimmer {
            0%, 100% { background-position: -300% center; }
            50% { background-position: 300% center; }
        }

        /* Hero Description */
        .hero-description {
            font-size: 1.2rem;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.85);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            animation: descriptionSlide 1.8s ease-out 1.8s both;
            transform: translateY(50px);
            opacity: 0;
        }

        @keyframes descriptionSlide {
            0% {
                opacity: 0;
                transform: translateY(50px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hero Stats */
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 3rem;
            animation: statsReveal 2s ease-out 2.2s both;
            transform: translateY(40px);
            opacity: 0;
        }

        @keyframes statsReveal {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .stat-item {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
        }

        .stat-item:hover {
            transform: translateY(-10px) scale(1.05);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(240, 147, 251, 0.2));
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.3);
        }

        .stat-value {
            display: block;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: numberCount 2s ease-out 2.5s both;
        }

        .stat-label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
        }

        @keyframes numberCount {
            0% { transform: scale(0.5); opacity: 0; }
            50% { transform: scale(1.2); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Hero Action Buttons */
        .hero-actions {
            display: flex;
            justify-content: center;
            gap: 2rem;
            animation: actionsSlide 2s ease-out 2.8s both;
            transform: translateY(30px);
            opacity: 0;
        }

        @keyframes actionsSlide {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .primary-btn,
        .secondary-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            color: white;
        }

        .primary-btn {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
            background-size: 300% 300%;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4);
            animation: gradientShift 4s ease-in-out infinite;
        }

        .primary-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.6);
            animation-duration: 2s;
        }

        .primary-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .secondary-btn {
            background: transparent;
            border: 2px solid rgba(102, 126, 234, 0.5);
            color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .secondary-btn:hover {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(240, 147, 251, 0.2));
            border-color: rgba(102, 126, 234, 0.8);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.3);
        }

        .btn-icon {
            transition: transform 0.3s ease;
            font-size: 1.2rem;
        }

        .primary-btn:hover .btn-icon {
            transform: translateX(5px);
        }

        .secondary-btn:hover .btn-icon {
            transform: scale(1.2);
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Enhanced Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            animation: scrollIndicatorFloat 3s ease-in-out infinite,
                       scrollIndicatorReveal 1.5s ease-out 3.5s both;
            cursor: pointer;
            opacity: 0;
        }

        .scroll-arrow {
            width: 2px;
            height: 30px;
            background: linear-gradient(to bottom, transparent, rgba(102, 126, 234, 0.8), transparent);
            position: relative;
            border-radius: 2px;
        }

        .scroll-arrow::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 8px solid rgba(102, 126, 234, 0.8);
        }

        @keyframes scrollIndicatorFloat {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        @keyframes scrollIndicatorReveal {
            0% { opacity: 0; transform: translateX(-50%) translateY(20px); }
            100% { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-title { font-size: 3rem; }
            .hero-description { font-size: 1rem; }
            .hero-stats { flex-direction: column; gap: 1.5rem; }
            .hero-actions { flex-direction: column; align-items: center; }
            .float-element { font-size: 2rem; }
            .floating-elements { display: none; }
        }

        .glowing-title {
            font-size: 5rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 80px rgba(102, 126, 234, 0.5);
            animation: titleReveal 2s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards, 
                       textShimmer 4s ease-in-out infinite 2s,
                       glow 3s ease-in-out infinite alternate 2s;
            margin-bottom: 1rem;
            position: relative;
            letter-spacing: -0.02em;
            line-height: 1.1;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .glowing-title:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.7));
        }

        @keyframes titleReveal {
            0% {
                opacity: 0;
                transform: scale(0.3) rotateY(-180deg);
                filter: blur(20px);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.1) rotateY(10deg);
                filter: blur(5px);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg);
                filter: blur(0px);
            }
        }

        @keyframes textShimmer {
            0%, 100% {
                background-position: -200% center;
            }
            50% {
                background-position: 200% center;
            }
        }

        .subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            animation: slideInFromLeft 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s both;
            position: relative;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .subtitle::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            width: 60px;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #f093fb);
            transform: translateX(-50%) scaleX(0);
            animation: lineExpand 1s ease-out 1.5s forwards;
        }

        @keyframes slideInFromLeft {
            0% {
                opacity: 0;
                transform: translateX(-100px) rotateY(-90deg);
            }
            100% {
                opacity: 1;
                transform: translateX(0) rotateY(0deg);
            }
        }

        @keyframes lineExpand {
            0% { transform: translateX(-50%) scaleX(0); }
            100% { transform: translateX(-50%) scaleX(1); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem auto;
            max-width: 1200px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            transform: translateY(0);
            transition: all 0.3s ease;
            position: relative;
            z-index: 10;
            will-change: transform;
            opacity: 0;
            transform: translateY(100px);
        }

        .glass-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .glass-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 60px 0 rgba(102, 126, 234, 0.4);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
            perspective: 1000px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(245, 87, 108, 0.15) 100%);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            transform: translateY(50px) rotateX(15deg);
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            will-change: transform;
            opacity: 0;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .stat-card:nth-child(1) { animation: cardReveal 0.8s ease-out 1s forwards; }
        .stat-card:nth-child(2) { animation: cardReveal 0.8s ease-out 1.2s forwards; }
        .stat-card:nth-child(3) { animation: cardReveal 0.8s ease-out 1.4s forwards; }
        .stat-card:nth-child(4) { animation: cardReveal 0.8s ease-out 1.6s forwards; }

        @keyframes cardReveal {
            0% {
                opacity: 0;
                transform: translateY(50px) rotateX(15deg) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) rotateX(0deg) scale(1);
            }
        }

        .stat-card:hover {
            transform: translateY(-10px) rotateX(-5deg) scale(1.05);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.3);
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.25) 0%, rgba(245, 87, 108, 0.25) 100%);
        }

        .stat-card.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.3) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
            pointer-events: none;
        }

        .stat-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.3);
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
            margin-bottom: 0.5rem;
            position: relative;
            animation: numberGlow 2s ease-in-out infinite alternate;
            letter-spacing: -0.02em;
        }

        @keyframes numberGlow {
            0% { filter: drop-shadow(0 0 5px rgba(102, 126, 234, 0.5)); }
            100% { filter: drop-shadow(0 0 15px rgba(240, 147, 251, 0.8)); }
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .model-performance {
            margin: 6rem auto;
            max-width: 1200px;
            padding: 0 2rem;
            z-index: 10;
            position: relative;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 50%, 
                rgba(255, 255, 255, 0.01) 100%);
            backdrop-filter: blur(15px);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: sectionReveal 1.5s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
        }

        @keyframes sectionReveal {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.95);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            backdrop-filter: blur(5px);
        }

        .floating-particle {
            position: fixed;
            pointer-events: none;
            opacity: 0.5;
            animation: float 20s infinite ease-in-out;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        .cta-button {
            display: inline-block;
            padding: 1rem 3rem;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            animation: pulse 2s infinite;
        }

        .cta-button.secondary {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
            animation: none;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }

        .cta-button.secondary:hover {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            color: white;
            border-color: transparent;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
            padding: 0 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .feature-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                rgba(255, 255, 255, 0.02) 50%, 
                rgba(255, 255, 255, 0.01) 100%);
            backdrop-filter: blur(15px);
            padding: 3rem 2rem;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            will-change: transform;
            opacity: 0;
            transform: translateY(50px) rotateX(10deg);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .feature-card.visible {
            opacity: 1;
            transform: translateY(0) rotateX(0deg);
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, rgba(102, 126, 234, 0.1));
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .feature-card:hover::before {
            transform: translateX(0);
        }

        .feature-card:hover {
            transform: translateY(-15px) rotateX(5deg) scale(1.02);
            box-shadow: 
                0 30px 80px rgba(102, 126, 234, 0.4),
                0 10px 40px rgba(240, 147, 251, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%, 
                rgba(102, 126, 234, 0.03) 50%, 
                rgba(240, 147, 251, 0.02) 100%);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            animation: bounce 3s infinite;
        }

        .section-title {
            font-size: 3.5rem;
            font-weight: 900;
            text-align: center;
            margin: 6rem 0 3rem;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleShimmer 4s ease-in-out infinite,
                       sectionTitleReveal 1.5s ease-out forwards;
            opacity: 0;
            transform: translateY(50px);
            position: relative;
            letter-spacing: -0.02em;
            line-height: 1.1;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #f093fb, #f5576c);
            transform: translateX(-50%) scaleX(0);
            animation: lineExpand 1s ease-out 0.5s forwards;
            border-radius: 2px;
        }

        @keyframes sectionTitleReveal {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes glow {
            from {
                filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.5));
            }
            to {
                filter: drop-shadow(0 0 30px rgba(245, 87, 108, 0.7));
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) translateX(10px) rotate(90deg);
            }
            50% {
                transform: translateY(10px) translateX(-10px) rotate(180deg);
            }
            75% {
                transform: translateY(-10px) translateX(20px) rotate(270deg);
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 2s infinite;
            z-index: 10;
        }

        .scroll-indicator::after {
            content: '↓';
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Advanced Scroll Animations */
        .parallax-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #2d1b69 100%);
            will-change: transform;
            z-index: -1;
        }

        .scroll-reveal {
            opacity: 0;
            transform: translateY(60px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform, opacity;
        }

        .scroll-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .zoom-in {
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .zoom-in.visible {
            opacity: 1;
            transform: scale(1);
        }

        .slide-left {
            opacity: 0;
            transform: translateX(-60px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .slide-left.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .slide-right {
            opacity: 0;
            transform: translateX(60px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .slide-right.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .fade-in {
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .fade-in.visible {
            opacity: 1;
        }

        /* Smooth scroll momentum */
        html {
            scroll-behavior: smooth;
        }

        body {
            scroll-behavior: smooth;
        }

        /* Video-like smooth scrolling */
        .smooth-scroll-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: -2;
        }

        .smooth-scroll-content {
            will-change: transform;
        }

        /* Enhanced 3D perspective */
        .section-3d {
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .card-3d {
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.320, 1);
        }

        .card-3d:hover {
            transform: rotateY(5deg) rotateX(5deg) translateZ(20px);
        }

        /* Performance Optimization Styles */
        .reduced-animations * {
            animation-duration: 0.3s !important;
            transition-duration: 0.3s !important;
        }

        .reduced-animations .morphing-shape {
            animation: none !important;
        }

        .reduced-animations .loading-particle {
            animation-duration: 1s !important;
        }

        .reduced-animations .neural-node,
        .reduced-animations .neural-connection {
            animation-duration: 1s !important;
        }

        .low-end-device .three-js-canvas {
            opacity: 0.7;
        }

        .low-end-device .backdrop-filter,
        .low-end-device .glass-card,
        .low-end-device .assessment-modal {
            backdrop-filter: blur(2px) !important;
        }

        .low-end-device .morphing-shape {
            display: none;
        }

        /* Prefers reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .morphing-shape,
            .loading-particle,
            .neural-node,
            .neural-connection {
                animation: none !important;
            }
        }

        /* Morphing shapes animation */
        .morphing-shape {
            position: absolute;
            background: linear-gradient(45deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
            border-radius: 50%;
            animation: morph 20s ease-in-out infinite;
        }

        @keyframes morph {
            0%, 100% {
                border-radius: 50% 50% 50% 50%;
                transform: rotate(0deg) scale(1);
            }
            25% {
                border-radius: 60% 40% 60% 40%;
                transform: rotate(90deg) scale(1.1);
            }
            50% {
                border-radius: 40% 60% 40% 60%;
                transform: rotate(180deg) scale(0.9);
            }
            75% {
                border-radius: 70% 30% 70% 30%;
                transform: rotate(270deg) scale(1.05);
            }
        }

        /* Liquid animations */
        .liquid-effect {
            position: relative;
            overflow: hidden;
        }

        .liquid-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.2), transparent);
            animation: liquid-flow 3s ease-in-out infinite;
        }

        @keyframes liquid-flow {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: 100%; }
        }

        /* Enhanced text animations */
        .text-reveal {
            overflow: hidden;
        }

        .text-reveal span {
            display: inline-block;
            opacity: 0;
            transform: translateY(100%);
            animation: text-slide-up 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        @keyframes text-slide-up {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Magnetic hover effects */
        .magnetic {
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .magnetic:hover {
            transform: scale(1.05) translateY(-5px);
        }

        /* Parallax sections */
        .parallax-section {
            position: relative;
            overflow: hidden;
        }

        .parallax-element {
            will-change: transform;
        }

        @media (max-width: 768px) {
            .glowing-title {
                font-size: 3rem;
            }
            .subtitle {
                font-size: 1.2rem;
            }
            .glass-card {
                padding: 2rem;
                margin: 1rem;
            }
        }

        /* Assessment Modal Styles */
        .assessment-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 39, 0.9);
            /* Reduced blur for better performance */
            backdrop-filter: blur(3px);
            z-index: 100000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
            opacity: 1;
            visibility: visible;
            /* Performance optimization */
            transform: translateZ(0);
            will-change: opacity, visibility;
        }

        .assessment-content {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.25) 0%, 
                rgba(255, 255, 255, 0.15) 50%, 
                rgba(255, 255, 255, 0.1) 100%);
            /* Reduced blur for performance */
            backdrop-filter: blur(5px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            padding: 3rem;
            max-width: 900px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            color: white;
            position: relative;
            opacity: 1;
            visibility: visible;
            /* Performance optimizations */
            transform: translateZ(0);
            will-change: transform, opacity;
        }

        .assessment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .assessment-header h2 {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
            font-size: 1.8rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: #f093fb;
        }

        .assessment-step {
            animation: slideIn 0.3s ease-out;
            opacity: 1;
            visibility: visible;
            color: white;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .assessment-step h3 {
            color: #00ffff;
            margin-bottom: 1rem;
            font-size: 1.8rem;
            text-align: center;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .assessment-step p {
            color: rgba(255, 255, 255, 0.95);
            margin-bottom: 2rem;
            text-align: center;
            line-height: 1.6;
            font-size: 1.1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: rgba(255, 255, 255, 0.95);
            font-weight: 600;
            font-size: 1.1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 1.2rem;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .form-group input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .assessment-btn {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .assessment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .assessment-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-counter {
            text-align: center;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            font-size: 1rem;
            font-weight: 600;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            backdrop-filter: blur(5px);
            display: inline-block;
            margin-left: 50%;
            transform: translateX(-50%);
        }

        .question-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .question-text {
            color: white;
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .question-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            max-width: 150px;
        }

        .nav-btn:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
            opacity: 0.5;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        /* Enhanced Question Card Styles */
        .question-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.15) 0%, 
                rgba(255, 255, 255, 0.08) 100%);
            border-radius: 25px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question-category {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .question-number {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .question-text {
            color: white;
            font-size: 1.4rem;
            line-height: 1.7;
            margin-bottom: 2.5rem;
            text-align: center;
            font-weight: 500;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .question-hint {
            margin-top: 2rem;
            padding: 1rem;
            background: rgba(102, 126, 234, 0.1);
            border-left: 4px solid #667eea;
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
            text-align: center;
        }

        /* Enhanced Rating Scale Styles */
        .rating-scale {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .rating-option {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 100%);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 1.5rem 1rem;
            min-width: 120px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .rating-option:hover {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.2) 0%, 
                rgba(240, 147, 251, 0.2) 100%);
            border-color: rgba(102, 126, 234, 0.5);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .rating-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border-color: #667eea;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        .rating-value {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .rating-option.selected .rating-value {
            -webkit-text-fill-color: white;
        }

        .rating-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.3;
        }

        .rating-option.selected .rating-label {
            color: white;
        }

        /* Notification Styles */
        .notification {
            font-family: 'Inter', sans-serif;
        }

        .notification-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .notification-icon {
            font-size: 16px;
        }

        .notification-message {
            font-weight: 500;
            line-height: 1.4;
        }

        /* Mobile Responsive Enhancements */
        @media (max-width: 768px) {
            .rating-scale {
                gap: 0.5rem;
            }
            
            .rating-option {
                min-width: 80px;
                padding: 1rem 0.5rem;
            }
            
            .rating-value {
                font-size: 1.5rem;
            }
            
            .rating-label {
                font-size: 0.75rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .assessment-content {
                padding: 2rem 1.5rem;
                width: 95%;
            }
        }

        /* Accessibility Enhancements */
        .form-help {
            display: block;
            margin-top: 0.5rem;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            line-height: 1.4;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        /* Focus styles for better accessibility */
        .rating-option:focus {
            outline: 3px solid #667eea;
            outline-offset: 2px;
        }

        .assessment-btn:focus,
        .nav-btn:focus,
        .close-btn:focus {
            outline: 3px solid #667eea;
            outline-offset: 2px;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: 3px solid #667eea;
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .assessment-content {
                border: 3px solid white;
                background: rgba(0, 0, 0, 0.9);
            }
            
            .rating-option {
                border: 2px solid white;
            }
            
            .rating-option.selected {
                background: white;
                color: black;
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .question-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(5px);
        }

        .rating-scale {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .rating-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 100px;
            color: white;
            backdrop-filter: blur(5px);
        }

        .rating-option:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: rgba(102, 126, 234, 0.8);
            transform: translateY(-2px);
        }

        .rating-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border-color: #667eea;
            color: white;
            font-weight: bold;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
        }

        .rating-scale {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .rating-option {
            flex: 1;
            min-width: 80px;
            text-align: center;
            padding: 1rem 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .rating-option:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.4);
        }

        .rating-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            border-color: #667eea;
            color: white;
        }

        .rating-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .question-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .result-card {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 100%);
            padding: 2rem 1.5rem;
            border-radius: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
        }

        .category-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .result-score {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .result-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .score-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .score-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-out;
        }

        /* Enhanced Results Styles */
        .results-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .results-title {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .results-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .results-overview {
            margin: 3rem 0;
            display: flex;
            justify-content: center;
        }

        .main-result-card {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.2) 0%, 
                rgba(240, 147, 251, 0.2) 100%);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 25px;
            padding: 3rem 2rem;
            text-align: center;
            backdrop-filter: blur(15px);
            max-width: 400px;
            width: 100%;
        }

        .main-score-container {
            display: flex;
            align-items: baseline;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .main-score {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-score-max {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.6);
            margin-left: 0.5rem;
        }

        .main-label {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .risk-indicator {
            border-radius: 15px;
            padding: 1rem;
            color: white;
            font-weight: 700;
        }

        .risk-level {
            display: block;
            font-size: 1.2rem;
            margin-bottom: 0.3rem;
        }

        .confidence-level {
            display: block;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .results-breakdown {
            margin: 3rem 0;
        }

        .results-breakdown h4 {
            color: #f093fb;
            font-size: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .recommendations {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%, 
                rgba(255, 255, 255, 0.03) 100%);
            padding: 2.5rem;
            border-radius: 20px;
            margin: 3rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .recommendations h4 {
            color: #f093fb;
            font-size: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .recommendations-grid {
            display: grid;
            gap: 1.5rem;
        }

        .recommendation-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border-left: 4px solid #667eea;
            animation: slideInLeft 0.6s ease-out both;
        }

        .rec-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .rec-text {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            font-size: 1rem;
        }

        .results-disclaimer {
            background: linear-gradient(135deg, 
                rgba(239, 68, 68, 0.1) 0%, 
                rgba(239, 68, 68, 0.05) 100%);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin: 3rem 0;
        }

        .disclaimer-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .disclaimer-icon {
            font-size: 1.5rem;
        }

        .disclaimer-title {
            color: #ef4444;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .disclaimer-content p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .disclaimer-content strong {
            color: #ef4444;
        }

        .results-summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.3rem;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Mobile Enhancements for Results */
        @media (max-width: 768px) {
            .results-title {
                font-size: 2rem;
            }
            
            .main-score {
                font-size: 3rem;
            }
            
            .main-result-card {
                padding: 2rem 1.5rem;
            }
            
            .recommendation-item {
                padding: 1rem;
            }
            
            .rec-text {
                font-size: 0.9rem;
            }
        }

        /* Error Message Styles */
        .error-message {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, 
                rgba(239, 68, 68, 0.1) 0%, 
                rgba(239, 68, 68, 0.05) 100%);
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: 20px;
            margin: 2rem 0;
        }

        .error-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .error-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ef4444;
            margin-bottom: 1rem;
        }

        .error-text {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 2rem;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .error-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .assessment-content {
                width: 95%;
                padding: 1.5rem;
            }
            
            .rating-scale {
                flex-direction: column;
            }
            
            .rating-option {
                min-width: auto;
            }
        }

        /* Loading Animation Styles */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #1a1f3a 0%, #0a0e27 50%, #000 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 1;
            transition: opacity 2s ease-out;
            overflow: hidden;
        }

        .loading-screen.fade-out {
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
            transform: scale(1.1);
        }

        /* Animated Background Grid */
        .loading-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(102, 126, 234, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(102, 126, 234, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: gridMove 20s linear infinite;
            z-index: 1;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Neural Network Animation */
        .neural-network {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .neural-node {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(240, 147, 251, 0.8), rgba(102, 126, 234, 0.4));
            border-radius: 50%;
            animation: neuralPulse 3s ease-in-out infinite;
        }

        @keyframes neuralPulse {
            0%, 100% { 
                transform: scale(1); 
                opacity: 0.6;
                box-shadow: 0 0 10px rgba(240, 147, 251, 0.3);
            }
            50% { 
                transform: scale(2); 
                opacity: 1;
                box-shadow: 0 0 20px rgba(240, 147, 251, 0.8);
            }
        }

        .neural-connection {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, 
                rgba(102, 126, 234, 0) 0%, 
                rgba(102, 126, 234, 0.6) 50%, 
                rgba(240, 147, 251, 0) 100%);
            animation: connectionFlow 4s ease-in-out infinite;
        }

        @keyframes connectionFlow {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.8; }
        }

        .loading-logo {
            font-size: 4rem;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #f093fb 50%, #f5576c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 2rem;
            opacity: 0;
            transform: scale(0.2) rotateY(-360deg);
            animation: logoEntrance 3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            z-index: 10;
            position: relative;
            text-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }

        @keyframes logoEntrance {
            0% {
                opacity: 0;
                transform: scale(0.2) rotateY(-360deg) rotateX(-180deg);
                filter: blur(20px);
            }
            40% {
                opacity: 0.8;
                transform: scale(1.3) rotateY(10deg) rotateX(10deg);
                filter: blur(5px);
            }
            70% {
                opacity: 1;
                transform: scale(0.9) rotateY(-5deg) rotateX(-5deg);
                filter: blur(2px);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotateY(0deg) rotateX(0deg);
                filter: blur(0px);
            }
        }

        .loading-subtitle {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4rem;
            opacity: 0;
            transform: translateY(60px);
            animation: subtitleSlide 2.5s ease-out 1s forwards;
            z-index: 10;
            position: relative;
            text-align: center;
        }

        @keyframes subtitleSlide {
            0% {
                opacity: 0;
                transform: translateY(60px) scale(0.8);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Advanced Holographic Spinner */
        .loading-spinner {
            width: 120px;
            height: 120px;
            position: relative;
            margin-bottom: 4rem;
            z-index: 10;
        }

        .spinner-ring {
            position: absolute;
            border: 3px solid transparent;
            border-radius: 50%;
            animation: spin 3s linear infinite;
        }

        .spinner-ring:nth-child(1) {
            width: 100%;
            height: 100%;
            border-top: 3px solid #667eea;
            border-right: 3px solid #667eea;
            animation-delay: 0s;
            box-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
        }

        .spinner-ring:nth-child(2) {
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
            border-bottom: 3px solid #f093fb;
            border-left: 3px solid #f093fb;
            animation-delay: 0.5s;
            animation-direction: reverse;
            box-shadow: 0 0 25px rgba(240, 147, 251, 0.5);
        }

        .spinner-ring:nth-child(3) {
            width: 60%;
            height: 60%;
            top: 20%;
            left: 20%;
            border-top: 3px solid #f5576c;
            border-right: 3px solid #f5576c;
            animation-delay: 1s;
            box-shadow: 0 0 20px rgba(245, 87, 108, 0.5);
        }

        .spinner-ring:nth-child(4) {
            width: 40%;
            height: 40%;
            top: 30%;
            left: 30%;
            border-bottom: 3px solid #4facfe;
            border-left: 3px solid #4facfe;
            animation-delay: 1.5s;
            animation-direction: reverse;
            box-shadow: 0 0 15px rgba(79, 172, 254, 0.5);
        }

        /* Central Energy Core */
        .spinner-core {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, rgba(255, 255, 255, 0.9), rgba(102, 126, 234, 0.3));
            border-radius: 50%;
            animation: coreEnergy 2s ease-in-out infinite;
        }

        @keyframes coreEnergy {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.5);
                box-shadow: 0 0 40px rgba(102, 126, 234, 0.8);
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Advanced Progress Bar */
        .loading-progress {
            width: 400px;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 2rem;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                #667eea 0%, 
                #f093fb 25%, 
                #f5576c 50%, 
                #4facfe 75%, 
                #667eea 100%);
            border-radius: 4px;
            width: 0%;
            animation: progressFill 1.5s ease-out forwards;
            position: relative;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                transparent);
            animation: progressShine 1.5s ease-in-out infinite;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 70%);
            animation: progressRipple 3s ease-in-out infinite;
        }

        @keyframes progressFill {
            0% { width: 0%; }
            25% { width: 30%; }
            50% { width: 65%; }
            75% { width: 85%; }
            100% { width: 100%; }
        }

        @keyframes progressShine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes progressRipple {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        /* Status Text with Typewriter Effect */
        .loading-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            opacity: 0;
            animation: textFade 1.5s ease-out 2s forwards;
            text-align: center;
            z-index: 10;
            position: relative;
            font-family: 'Courier New', monospace;
        }

        @keyframes textFade {
            to { opacity: 1; }
        }

        /* Floating Energy Particles */
        .loading-particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, 
                rgba(102, 126, 234, 0.9), 
                rgba(240, 147, 251, 0.5));
            border-radius: 50%;
            opacity: 0;
            animation: floatParticle 4s ease-in-out infinite;
            z-index: 3;
        }

        @keyframes floatParticle {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.3);
            }
            25% {
                opacity: 1;
                transform: translateY(-10px) scale(1);
            }
            75% {
                opacity: 1;
                transform: translateY(-50px) scale(1.2);
            }
            100% {
                opacity: 0;
                transform: translateY(-80px) scale(0.5);
            }
        }

        /* Holographic Scanning Lines */
        .scan-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(102, 126, 234, 0.8), 
                transparent);
            animation: scanMove 3s ease-in-out infinite;
            z-index: 5;
        }

        @keyframes scanMove {
            0%, 100% { 
                top: 0%; 
                opacity: 0;
            }
            50% { 
                top: 100%; 
                opacity: 1;
            }
        }

        /* Initial state for main content */
        .main-content {
            opacity: 0;
            transform: scale(0.95);
            transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .main-content.loaded {
            opacity: 1;
            transform: scale(1);
        }

        /* Staggered entrance animations for hero elements */
        .hero-section > * {
            opacity: 0;
            transform: translateY(80px);
            transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .hero-loaded .hero-content h1 {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.3s;
        }

        .hero-loaded .hero-content p {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.6s;
        }

        .hero-loaded .stats-grid {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.9s;
        }

        .hero-loaded .cta-button {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 1.2s;
        }

        /* Particle Container */
        .particle-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        /* Ultra-Advanced 3D Cursor System */
        .custom-cursor {
            position: fixed;
            width: 24px;
            height: 24px;
            background: radial-gradient(
                circle at 25% 25%, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(102, 126, 234, 0.7) 30%, 
                rgba(240, 147, 251, 0.5) 60%, 
                rgba(245, 87, 108, 0.3) 100%
            );
            border-radius: 50%;
            pointer-events: none;
            z-index: 99999;
            transform: translate(-50%, -50%);
            transition: all 0.12s cubic-bezier(0.23, 1, 0.320, 1);
            backdrop-filter: blur(4px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 0 30px rgba(102, 126, 234, 0.8),
                inset 0 0 20px rgba(255, 255, 255, 0.4),
                0 0 60px rgba(240, 147, 251, 0.4),
                0 0 100px rgba(102, 126, 234, 0.2);
            filter: drop-shadow(0 0 15px rgba(102, 126, 234, 0.6));
            mix-blend-mode: screen;
            opacity: 1;
            visibility: visible;
        }

        /* Outer Ring */
        .custom-cursor::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 60px;
            height: 60px;
            border: 2px solid transparent;
            border-top: 2px solid rgba(102, 126, 234, 0.4);
            border-right: 2px solid rgba(240, 147, 251, 0.3);
            border-bottom: 2px solid rgba(245, 87, 108, 0.2);
            border-left: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: cursorRingRotate 4s linear infinite,
                       cursorRingPulse 2s ease-in-out infinite;
        }

        /* Inner Core */
        .custom-cursor::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: radial-gradient(
                circle at 30% 30%, 
                rgba(255, 255, 255, 1) 0%, 
                rgba(102, 126, 234, 0.9) 40%, 
                rgba(240, 147, 251, 0.7) 100%
            );
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: cursorCoreGlow 1.5s ease-in-out infinite alternate;
            box-shadow: 
                0 0 20px rgba(255, 255, 255, 0.9),
                0 0 40px rgba(102, 126, 234, 0.6);
        }

        @keyframes cursorRingRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes cursorRingPulse {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.6;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0.3;
            }
        }

        @keyframes cursorCoreGlow {
            0% {
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 
                    0 0 20px rgba(255, 255, 255, 0.9),
                    0 0 40px rgba(102, 126, 234, 0.6);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.3);
                box-shadow: 
                    0 0 30px rgba(255, 255, 255, 1),
                    0 0 60px rgba(240, 147, 251, 0.8),
                    0 0 80px rgba(102, 126, 234, 0.4);
            }
        }

        /* Enhanced Hover States */
        .custom-cursor.hover {
            width: 45px;
            height: 45px;
            background: radial-gradient(
                circle at 25% 25%, 
                rgba(255, 255, 255, 1) 0%, 
                rgba(240, 147, 251, 0.9) 30%, 
                rgba(245, 87, 108, 0.7) 60%, 
                rgba(102, 126, 234, 0.5) 100%
            );
            transform: translate(-50%, -50%) scale(1.3) rotateZ(45deg);
            animation: cursorHoverEffect 0.5s ease-out;
            box-shadow: 
                0 0 50px rgba(240, 147, 251, 1),
                inset 0 0 30px rgba(255, 255, 255, 0.5),
                0 0 100px rgba(245, 87, 108, 0.6),
                0 0 150px rgba(240, 147, 251, 0.3);
        }

        .custom-cursor.hover::before {
            width: 80px;
            height: 80px;
            border-width: 3px;
            animation-duration: 2s;
        }

        .custom-cursor.click {
            width: 15px;
            height: 15px;
            background: radial-gradient(
                circle at 50% 50%, 
                rgba(245, 87, 108, 1) 0%, 
                rgba(240, 147, 251, 0.9) 50%, 
                rgba(102, 126, 234, 0.7) 100%
            );
            transform: translate(-50%, -50%) scale(0.5) rotateZ(-90deg);
            animation: cursorClickEffect 0.4s ease-out;
            box-shadow: 
                0 0 40px rgba(245, 87, 108, 1),
                inset 0 0 20px rgba(255, 255, 255, 0.8),
                0 0 80px rgba(245, 87, 108, 0.6);
        }

        @keyframes cursorHoverEffect {
            0% { 
                transform: translate(-50%, -50%) scale(1) rotateZ(0deg); 
                filter: hue-rotate(0deg) brightness(1);
            }
            30% { 
                transform: translate(-50%, -50%) scale(1.5) rotateZ(120deg); 
                filter: hue-rotate(60deg) brightness(1.5);
            }
            60% { 
                transform: translate(-50%, -50%) scale(1.2) rotateZ(240deg); 
                filter: hue-rotate(120deg) brightness(1.2);
            }
            100% { 
                transform: translate(-50%, -50%) scale(1.3) rotateZ(45deg); 
                filter: hue-rotate(0deg) brightness(1);
            }
        }

        @keyframes cursorClickEffect {
            0% { 
                transform: translate(-50%, -50%) scale(1.3) rotateZ(45deg); 
                filter: brightness(1) saturate(1);
            }
            20% { 
                transform: translate(-50%, -50%) scale(0.3) rotateZ(-180deg); 
                filter: brightness(3) saturate(2);
            }
            60% { 
                transform: translate(-50%, -50%) scale(0.8) rotateZ(-270deg); 
                filter: brightness(2) saturate(1.5);
            }
            100% { 
                transform: translate(-50%, -50%) scale(0.5) rotateZ(-90deg); 
                filter: brightness(1.5) saturate(1.2);
            }
        }

        /* Ultra-Enhanced Trail System */
        .cursor-trail {
            position: fixed;
            width: 16px;
            height: 16px;
            background: radial-gradient(
                circle at 30% 30%, 
                rgba(102, 126, 234, 0.9), 
                rgba(240, 147, 251, 0.6), 
                rgba(245, 87, 108, 0.3),
                transparent
            );
            border-radius: 50%;
            pointer-events: none;
            z-index: 9998;
            transform: translate(-50%, -50%);
            animation: ultraTrailFade 1.2s ease-out forwards;
            box-shadow: 
                0 0 25px rgba(102, 126, 234, 0.7),
                0 0 50px rgba(240, 147, 251, 0.4);
            mix-blend-mode: screen;
        }

        .cursor-trail:nth-child(2n) {
            background: radial-gradient(
                circle at 30% 30%, 
                rgba(240, 147, 251, 0.9), 
                rgba(245, 87, 108, 0.6), 
                rgba(102, 126, 234, 0.3),
                transparent
            );
            animation-duration: 1.5s;
            transform: translate(-50%, -50%) scale(1.2);
        }

        .cursor-trail:nth-child(3n) {
            background: radial-gradient(
                circle at 30% 30%, 
                rgba(245, 87, 108, 0.9), 
                rgba(102, 126, 234, 0.6), 
                rgba(240, 147, 251, 0.3),
                transparent
            );
            animation-duration: 1.8s;
            transform: translate(-50%, -50%) scale(0.8);
        }

        @keyframes ultraTrailFade {
            0% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }
            25% {
                opacity: 0.8;
                transform: translate(-50%, -50%) scale(1.3) rotate(90deg);
            }
            50% {
                opacity: 0.6;
                transform: translate(-50%, -50%) scale(1.1) rotate(180deg);
            }
            75% {
                opacity: 0.3;
                transform: translate(-50%, -50%) scale(0.7) rotate(270deg);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.2) rotate(360deg);
            }
        }

        /* Magnetic Attraction Effect */
        .magnetic-target {
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.320, 1);
        }

        .magnetic-target:hover {
            transform: scale(1.05);
        }

        /* Specialized Cursor States */
        .custom-cursor.text {
            width: 3px;
            height: 24px;
            border-radius: 3px;
            background: linear-gradient(
                180deg, 
                rgba(102, 126, 234, 1) 0%, 
                rgba(240, 147, 251, 0.9) 50%, 
                rgba(245, 87, 108, 0.8) 100%
            );
            animation: textCursorBlink 1.2s ease-in-out infinite;
        }

        .custom-cursor.text::before,
        .custom-cursor.text::after {
            display: none;
        }

        @keyframes textCursorBlink {
            0%, 45% { opacity: 1; transform: translate(-50%, -50%) scaleY(1); }
            50%, 95% { opacity: 0.3; transform: translate(-50%, -50%) scaleY(0.8); }
        }

        .custom-cursor.loading {
            animation: loadingSpinner 1s linear infinite;
        }

        @keyframes loadingSpinner {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Hide Default Cursor */
        * {
            cursor: none !important;
        }

        body, html {
            cursor: none !important;
        }

        .custom-cursor.button {
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, rgba(245, 87, 108, 0.3), transparent);
            border: 3px solid rgba(245, 87, 108, 0.6);
        }

        .custom-cursor.loading {
            animation: cursorSpin 1s linear infinite;
        }

        @keyframes cursorSpin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Custom 3D Cursor -->
    <div id="customCursor">
        <div class="cursor-outer"></div>
        <div class="cursor-inner"></div>
        <div class="cursor-ring"></div>
    </div>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <!-- Animated Grid Background -->
        <div class="neural-network" id="neuralNetwork"></div>
        
        <!-- Holographic Scanning Lines -->
        <div class="scan-line"></div>
        
        <!-- Particle Container -->
        <div class="particle-container" id="particleContainer"></div>
        
        <div class="loading-logo">Understanding Together</div>
        <div class="loading-subtitle">
            Initializing Compassionate AI Technology<br>
            <small style="opacity: 0.7; font-size: 0.8em;">Neural Networks • Machine Learning • Quantum Processing</small>
        </div>
        
        <div class="loading-spinner">
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-ring"></div>
            <div class="spinner-core"></div>
        </div>
        
        <div class="loading-progress">
            <div class="progress-bar"></div>
        </div>
        
        <div class="loading-text" id="loadingText">
            > Initializing quantum neural pathways...<br>
            <small style="opacity: 0.6; margin-top: 10px; display: inline-block;">
                Building empathetic AI frameworks for understanding
            </small>
        </div>
    </div>

    <div class="main-content" id="mainContent" style="display: none;">
    <div id="canvas-container" aria-hidden="true"></div>

    <main>
    <section class="hero-section" role="banner">
        <!-- Floating 3D Elements -->
        <div class="floating-elements">
            <div class="float-element brain-icon">🧠</div>
            <div class="float-element ai-icon">🤖</div>
            <div class="float-element chart-icon">📊</div>
            <div class="float-element target-icon">🎯</div>
            <div class="float-element molecule-icon">⚛️</div>
        </div>
        
        <!-- Particle System -->
        <div class="particle-system">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>

        <!-- Main Hero Content -->
        <div class="hero-content">
            <div class="hero-badge">
                <span class="badge-text">🚀 AI-Powered Detection</span>
            </div>
            
            <h1 class="hero-title">
                <span class="title-line-1">ASD Detection</span>
                <span class="title-line-2">Intelligence</span>
            </h1>
            
            <p class="hero-description">
                Leverage cutting-edge machine learning algorithms to support early autism spectrum disorder identification. 
                Our advanced AI system analyzes behavioral patterns with <strong>98.5% accuracy</strong> to provide 
                reliable insights for healthcare professionals and families.
            </p>
            
            <div class="hero-stats">
                <div class="stat-item">
                    <div class="stat-value">98.5%</div>
                    <div class="stat-label">Accuracy Rate</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">800+</div>
                    <div class="stat-label">Cases Analyzed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">21</div>
                    <div class="stat-label">AI Features</div>
                </div>
            </div>
            
            <div class="hero-actions">
                <button class="primary-btn" onclick="startAssessment()">
                    <span class="btn-text">Start Assessment</span>
                    <span class="btn-icon">→</span>
                </button>
                <button class="secondary-btn" onclick="scrollToSection('reliability-heading')">
                    <span class="btn-text">Learn More</span>
                    <span class="btn-icon">📖</span>
                </button>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="scroll-indicator">
            <div class="scroll-arrow"></div>
            <span>Scroll to explore</span>
        </div>
    </section>

    <section class="model-performance" role="region" aria-labelledby="reliability-heading">
        <h2 class="section-title" id="reliability-heading">How We Ensure Reliability</h2>
        <div class="glass-card">
            <div class="chart-container">
                <canvas id="performanceChart"></canvas>
            </div>
        </div>
    </section>

    <section class="feature-grid" role="region" aria-labelledby="features-heading">
        <h2 class="section-title" id="features-heading" style="grid-column: 1 / -1;">How We Support You</h2>
        <div class="feature-card">
            <span class="feature-icon">💝</span>
            <h3>Compassionate Analysis</h3>
            <p>Our gentle, evidence-based approach provides reliable insights to support early identification and intervention planning.</p>
        </div>
        <div class="feature-card">
            <span class="feature-icon">📊</span>
            <h3>Clear Understanding</h3>
            <p>Easy-to-understand visual reports help families and healthcare providers make informed decisions together.</p>
        </div>
        <div class="feature-card">
            <span class="feature-icon">⚡</span>
            <h3>Quick Results</h3>
            <p>Get meaningful insights promptly, helping you take the next steps in your journey with confidence.</p>
        </div>
        <div class="feature-card">
            <span class="feature-icon">🔬</span>
            <h3>Personalized Insights</h3>
            <p>Age-appropriate analysis and individualized reporting that considers your unique situation and needs.</p>
        </div>
        <div class="feature-card">
            <span class="feature-icon">🎯</span>
            <h3>Reliable Foundation</h3>
            <p>Built on diverse research data to ensure fair and accurate results across all backgrounds and communities.</p>
        </div>
        <div class="feature-card">
            <span class="feature-icon">📈</span>
            <h3>Multiple Perspectives</h3>
            <p>Comprehensive evaluation using various proven methods to provide the most complete picture possible.</p>
        </div>
    </section>

    <section class="model-performance" role="region" aria-labelledby="age-support-heading">
        <h2 class="section-title" id="age-support-heading">Supporting All Ages</h2>
        <div class="glass-card">
            <div class="chart-container">
                <canvas id="distributionChart"></canvas>
            </div>
        </div>
    </section>

    <section class="glass-card" style="margin: 4rem auto; text-align: center;">
        <h2 class="section-title">You're Not Alone</h2>
        <p style="font-size: 1.2rem; line-height: 1.6; color: rgba(255, 255, 255, 0.9); max-width: 800px; margin: 0 auto 2rem;">
            Every family's journey is unique. Our technology is designed to provide supportive insights while 
            respecting your individual needs and circumstances. We believe in empowering families with 
            reliable information to make informed decisions about their loved ones' care.
        </p>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 3rem;">
            <div style="padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 15px;">
                <h3 style="color: #667eea; margin-bottom: 1rem;">🔒 Privacy First</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Your family's privacy and data security are our highest priorities</p>
            </div>
            <div style="padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 15px;">
                <h3 style="color: #f093fb; margin-bottom: 1rem;">🤝 Support Team</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Dedicated specialists available to guide you through every step</p>
            </div>
            <div style="padding: 1.5rem; background: rgba(255, 255, 255, 0.05); border-radius: 15px;">
                <h3 style="color: #f5576c; margin-bottom: 1rem;">📚 Resources</h3>
                <p style="color: rgba(255, 255, 255, 0.8);">Comprehensive guides and educational materials for families</p>
            </div>
        </div>
    </section>

    <!-- Assessment Modal -->
    <div id="assessmentModal" class="assessment-modal" style="display: none;" role="dialog" aria-labelledby="assessmentTitle" aria-modal="true">
        <div class="assessment-content">
            <div class="assessment-header">
                <h2 id="assessmentTitle">🤝 Understanding Together Assessment</h2>
                <button class="close-btn" onclick="closeAssessment()" aria-label="Close assessment modal">&times;</button>
            </div>
            
            <!-- Initial Info Form -->
            <div id="initialForm" class="assessment-step" role="form" aria-labelledby="initialFormTitle">
                <h3 id="initialFormTitle">Welcome to Your Assessment Journey</h3>
                <p>This compassionate assessment uses evidence-based indicators to provide supportive insights for early identification and care planning.</p>
                
                <div class="form-group">
                    <label for="participantName">Participant Name (optional):</label>
                    <input type="text" id="participantName" placeholder="Enter name or leave blank for anonymous" aria-describedby="nameHelp">
                    <small id="nameHelp" class="form-help">Your privacy is protected. Names are optional and stored locally only.</small>
                </div>
                
                <div class="form-group">
                    <label for="participantAge">Age in years:</label>
                    <input type="number" id="participantAge" step="0.5" min="1" max="100" placeholder="e.g., 4.5" aria-describedby="ageHelp" required>
                    <small id="ageHelp" class="form-help">Please enter the participant's age in years (decimals allowed for precision).</small>
                </div>
                
                <button class="assessment-btn" onclick="startQuestionnaire()" aria-describedby="beginHelp">Begin Assessment</button>
                <small id="beginHelp" class="form-help">The assessment contains 21 questions and takes approximately 10-15 minutes.</small>
            </div>
            
            <!-- Assessment Questions -->
            <div id="questionnaireForm" class="assessment-step" style="display: none;" role="form" aria-labelledby="questionnaireTitle">
                <h3 id="questionnaireTitle" class="sr-only">Assessment Questionnaire</h3>
                <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Assessment progress">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="question-counter" aria-live="polite">
                    <span id="currentQuestion">1</span> of <span id="totalQuestions">21</span>
                </div>
                
                <div id="questionContainer" role="main" aria-live="polite">
                    <!-- Questions will be dynamically loaded here -->
                </div>
                
                <div class="question-navigation" role="navigation" aria-label="Question navigation">
                    <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled aria-label="Go to previous question">Previous</button>
                    <button class="nav-btn" id="nextBtn" onclick="nextQuestion()" aria-label="Go to next question or complete assessment">Next</button>
                </div>
            </div>
            
            <!-- Results Display -->
            <div id="resultsForm" class="assessment-step" style="display: none;" role="region" aria-labelledby="resultsTitle">
                <h3 id="resultsTitle">🎯 Your Assessment Results</h3>
                <div id="resultsContent" aria-live="polite">
                    <!-- Results will be displayed here -->
                </div>
                <div class="results-actions">
                    <button class="assessment-btn" onclick="downloadReport()" aria-describedby="downloadHelp">Download Detailed Report</button>
                    <button class="assessment-btn secondary" onclick="resetAssessment()" aria-describedby="retakeHelp">Take Another Assessment</button>
                </div>
                <small id="downloadHelp" class="form-help">Download a comprehensive PDF report with detailed insights and recommendations.</small>
                <small id="retakeHelp" class="form-help">Start a new assessment for another participant or retake the current assessment.</small>
            </div>
        </div>
    </div>
    </main>

    <script>
        // Three.js 3D Background
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Create floating particles representing data points (OPTIMIZED)
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = window.innerWidth < 768 ? 300 : window.innerWidth < 1200 ? 600 : 1000; // Reduced from 2000
        const posArray = new Float32Array(particlesCount * 3);
        const colorsArray = new Float32Array(particlesCount * 3);

        for(let i = 0; i < particlesCount * 3; i += 3) {
            posArray[i] = (Math.random() - 0.5) * 50;
            posArray[i + 1] = (Math.random() - 0.5) * 50;
            posArray[i + 2] = (Math.random() - 0.5) * 50;
            
            // Optimized color calculations
            const colorBase = 0.4 + Math.random() * 0.6;
            colorsArray[i] = colorBase;
            colorsArray[i + 1] = 0.3 + Math.random() * 0.5;
            colorsArray[i + 2] = 0.9 + Math.random() * 0.1;
        }

        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        particlesGeometry.setAttribute('color', new THREE.BufferAttribute(colorsArray, 3));

        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.15,
            vertexColors: true,
            blending: THREE.AdditiveBlending,
            transparent: true,
            opacity: 0.8
        });

        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);

        // Create floating geometries
        const geometries = [];
        const materials = [
            new THREE.MeshPhongMaterial({ color: 0x667eea, wireframe: true, transparent: true, opacity: 0.3 }),
            new THREE.MeshPhongMaterial({ color: 0xf093fb, wireframe: true, transparent: true, opacity: 0.3 }),
            new THREE.MeshPhongMaterial({ color: 0xf5576c, wireframe: true, transparent: true, opacity: 0.3 })
        ];

        for(let i = 0; i < 5; i++) {
            const geometry = new THREE.IcosahedronGeometry(Math.random() * 2 + 1, 1);
            const material = materials[Math.floor(Math.random() * materials.length)];
            const mesh = new THREE.Mesh(geometry, material);
            
            mesh.position.x = (Math.random() - 0.5) * 20;
            mesh.position.y = (Math.random() - 0.5) * 20;
            mesh.position.z = (Math.random() - 0.5) * 20;
            
            mesh.rotation.x = Math.random() * Math.PI;
            mesh.rotation.y = Math.random() * Math.PI;
            
            geometries.push(mesh);
            scene.add(mesh);
        }

        // Add lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        
        const pointLight = new THREE.PointLight(0x667eea, 1);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);

        const pointLight2 = new THREE.PointLight(0xf093fb, 1);
        pointLight2.position.set(-10, -10, -10);
        scene.add(pointLight2);

        camera.position.z = 20;

        // Mouse interaction with throttling
        let mouseX = 0;
        let mouseY = 0;
        let isMouseMoving = false;

        // Throttle mouse movement to improve performance
        document.addEventListener('mousemove', (event) => {
            if (!isMouseMoving) {
                isMouseMoving = true;
                requestAnimationFrame(() => {
                    mouseX = (event.clientX / window.innerWidth) * 2 - 1;
                    mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
                    isMouseMoving = false;
                });
            }
        });

        // Optimized animation loop with reduced calculations
        let frameCount = 0;
        function animate() {
            requestAnimationFrame(animate);
            frameCount++;

            // Reduce calculation frequency for better performance
            if (frameCount % 2 === 0) {
                // Rotate particles (less frequent)
                particlesMesh.rotation.y += 0.0008;
                particlesMesh.rotation.x += 0.0004;

                // Float geometries (optimized)
                geometries.forEach((mesh, i) => {
                    const time = Date.now() * 0.0008;
                    mesh.rotation.x += 0.008 * (i + 1) * 0.1;
                    mesh.rotation.y += 0.008 * (i + 1) * 0.1;
                    mesh.position.y = Math.sin(time + i) * 0.4;
                });
            }

            // Smooth camera movement
            camera.position.x += (mouseX * 3 - camera.position.x) * 0.1;
            camera.position.y += (mouseY * 3 - camera.position.y) * 0.1;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }

        animate();

        // Responsive canvas
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Chart.js initialization function
        function initializeCharts() {
            try {
                // Check if Chart.js is available
                if (typeof Chart === 'undefined') {
                    console.warn('Chart.js not available, skipping chart initialization');
                    return;
                }

                // Performance Chart
                const performanceCanvas = document.getElementById('performanceChart');
                if (performanceCanvas) {
                    const ctx1 = performanceCanvas.getContext('2d');
                    new Chart(ctx1, {
            type: 'bar',
            data: {
                labels: ['Evidence Method 1', 'Evidence Method 2', 'Evidence Method 3'],
                datasets: [{
                    label: 'Research Validation',
                    data: [92.5, 98.5, 96.8],
                    backgroundColor: 'rgba(102, 126, 234, 0.6)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2
                }, {
                    label: 'Real-world Reliability',
                    data: [89.3, 95.2, 93.7],
                    backgroundColor: 'rgba(240, 147, 251, 0.6)',
                    borderColor: 'rgba(240, 147, 251, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: {
                            color: '#fff',
                            font: { size: 14 }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    x: {
                        ticks: { color: '#fff' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    }
                }
                }
            });
                } else {
                    console.warn('Performance chart canvas not found');
                }

                // Distribution Chart
                const distributionCanvas = document.getElementById('distributionChart');
                if (distributionCanvas) {
                    const ctx2 = distributionCanvas.getContext('2d');
                    new Chart(ctx2, {
                        type: 'doughnut',
                        data: {
                            labels: ['Toddler', 'Kid', 'Teenager', 'Young', 'Senior'],
                            datasets: [{
                                label: 'Age Distribution',
                                data: [15, 25, 20, 30, 10],
                                backgroundColor: [
                                    'rgba(102, 126, 234, 0.7)',
                                    'rgba(240, 147, 251, 0.7)',
                                    'rgba(245, 87, 108, 0.7)',
                                    'rgba(130, 87, 229, 0.7)',
                                    'rgba(255, 107, 129, 0.7)'
                                ],
                                borderColor: '#fff',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: {
                                    position: 'right',
                                    labels: {
                                        color: '#fff',
                                        font: { size: 14 },
                                        padding: 20
                                    }
                                }
                            }
                        }
                    });
                } else {
                    console.warn('Distribution chart canvas not found');
                }

            } catch (error) {
                console.error('Error initializing charts:', error);
            }
        }

        // GSAP Animations for scroll
        gsap.from(".glass-card", {
            scrollTrigger: {
                trigger: ".glass-card",
                start: "top 80%"
            },
            y: 100,
            opacity: 0,
            duration: 1.5,
            stagger: 0.2,
            ease: "power3.out"
        });

        // Smooth scroll
        document.querySelectorAll('.cta-button').forEach(button => {
            button.addEventListener('click', () => {
                window.scrollBy({
                    top: window.innerHeight,
                    behavior: 'smooth'
                });
            });
        });

        // Create floating particles effect
        function createFloatingParticle() {
            const particle = document.createElement('div');
            particle.className = 'floating-particle';
            particle.style.left = Math.random() * window.innerWidth + 'px';
            particle.style.top = Math.random() * window.innerHeight + 'px';
            particle.style.width = Math.random() * 10 + 5 + 'px';
            particle.style.height = particle.style.width;
            particle.style.background = `radial-gradient(circle, rgba(${Math.floor(Math.random() * 100 + 155)}, ${Math.floor(Math.random() * 100 + 100)}, 255, 0.8), transparent)`;
            particle.style.borderRadius = '50%';
            document.body.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 20000);
        }

        setInterval(createFloatingParticle, 2000);

        // Assessment System
        let assessmentData = {
            participant: {
                name: '',
                age: 0,
                ageGroup: ''
            },
            responses: {},
            currentQuestion: 0,
            questions: []
        };

        // Assessment Questions - 21 Key Indicators
        const assessmentQuestions = [
            // Social Communication & Interaction (7 questions)
            {
                id: 'eye_contact',
                category: 'social',
                question: 'Does the person make appropriate eye contact during conversations?',
                weight: 0.85,
                reverseScored: true
            },
            {
                id: 'social_smiling',
                category: 'social',
                question: 'Does the person smile back when you smile at them?',
                weight: 0.80,
                reverseScored: true
            },
            {
                id: 'pointing',
                category: 'social',
                question: 'Does the person point to show you something interesting?',
                weight: 0.90,
                reverseScored: true
            },
            {
                id: 'joint_attention',
                category: 'social',
                question: 'When you point at something, does the person look where you\'re pointing?',
                weight: 0.88,
                reverseScored: true
            },
            {
                id: 'imitation',
                category: 'social',
                question: 'Does the person copy your actions or gestures?',
                weight: 0.75,
                reverseScored: true
            },
            {
                id: 'social_play',
                category: 'social',
                question: 'Does the person enjoy playing social games like peek-a-boo?',
                weight: 0.82,
                reverseScored: true
            },
            {
                id: 'emotional_sharing',
                category: 'social',
                question: 'Does the person share emotions appropriately (joy, excitement, etc.)?',
                weight: 0.87,
                reverseScored: true
            },
            
            // Restricted & Repetitive Behaviors (7 questions)
            {
                id: 'repetitive_movements',
                category: 'behavioral',
                question: 'Does the person engage in repetitive movements (hand flapping, rocking)?',
                weight: 0.78,
                reverseScored: false
            },
            {
                id: 'routine_adherence',
                category: 'behavioral',
                question: 'Does the person become upset with changes in routine?',
                weight: 0.85,
                reverseScored: false
            },
            {
                id: 'special_interests',
                category: 'behavioral',
                question: 'Does the person have intense, narrow interests?',
                weight: 0.70,
                reverseScored: false
            },
            {
                id: 'sensory_sensitivity',
                category: 'behavioral',
                question: 'Is the person over- or under-sensitive to sounds, textures, or lights?',
                weight: 0.83,
                reverseScored: false
            },
            {
                id: 'object_fixation',
                category: 'behavioral',
                question: 'Does the person focus intensely on parts of objects rather than whole objects?',
                weight: 0.77,
                reverseScored: false
            },
            {
                id: 'repetitive_speech',
                category: 'behavioral',
                question: 'Does the person repeat words or phrases (echolalia)?',
                weight: 0.80,
                reverseScored: false
            },
            {
                id: 'rigid_thinking',
                category: 'behavioral',
                question: 'Does the person have difficulty with flexible thinking?',
                weight: 0.75,
                reverseScored: false
            },
            
            // Communication & Language (7 questions)
            {
                id: 'language_delay',
                category: 'communication',
                question: 'Are there concerns about language development or usage?',
                weight: 0.90,
                reverseScored: false
            },
            {
                id: 'nonverbal_communication',
                category: 'communication',
                question: 'Does the person use gestures and facial expressions to communicate?',
                weight: 0.85,
                reverseScored: true
            },
            {
                id: 'conversation_skills',
                category: 'communication',
                question: 'Can the person engage in back-and-forth conversation?',
                weight: 0.88,
                reverseScored: true
            },
            {
                id: 'literal_understanding',
                category: 'communication',
                question: 'Does the person often take things very literally?',
                weight: 0.72,
                reverseScored: false
            },
            {
                id: 'pretend_play',
                category: 'communication',
                question: 'Does the person engage in imaginative or pretend play?',
                weight: 0.83,
                reverseScored: true
            },
            {
                id: 'name_response',
                category: 'communication',
                question: 'Does the person respond when their name is called?',
                weight: 0.92,
                reverseScored: true
            },
            {
                id: 'prosody',
                category: 'communication',
                question: 'Does the person\'s speech have unusual rhythm, pitch, or tone?',
                weight: 0.76,
                reverseScored: false
            }
        ];



        function resetAssessment() {
            assessmentData = {
                participant: { name: '', age: 0, ageGroup: '' },
                responses: {},
                currentQuestion: 0,
                questions: [...assessmentQuestions]
            };
            
            // Clear any saved progress
            localStorage.removeItem('autismAssessmentProgress');
            
            // Reset forms with smooth transitions
            const forms = ['initialForm', 'questionnaireForm', 'resultsForm'];
            forms.forEach(formId => {
                const form = document.getElementById(formId);
                if (form) {
                    form.style.display = formId === 'initialForm' ? 'block' : 'none';
                    form.style.opacity = formId === 'initialForm' ? '1' : '0';
                }
            });
            
            // Reset form inputs
            const participantName = document.getElementById('participantName');
            const participantAge = document.getElementById('participantAge');
            if (participantName) participantName.value = '';
            if (participantAge) participantAge.value = '';
            
            // Reset progress bar
            const progressFill = document.getElementById('progressFill');
            if (progressFill) progressFill.style.width = '0%';
            
            // Add focus to first input for accessibility
            if (participantAge) {
                setTimeout(() => participantAge.focus(), 100);
            }
            
            showNotification('Assessment reset successfully', 'info');
        }

        function determineAgeGroup(ageMonths) {
            if (ageMonths >= 16 && ageMonths <= 30) return 'toddler';
            if (ageMonths >= 31 && ageMonths <= 72) return 'kid';
            if (ageMonths >= 73 && ageMonths <= 215) return 'teenager';
            if (ageMonths >= 216 && ageMonths <= 359) return 'young';
            return 'senior';
        }

        function adaptQuestionForAge(question, ageGroup) {
            let adaptedQuestion = question;
            
            if (ageGroup === 'toddler') {
                adaptedQuestion = adaptedQuestion.replace(/the person/g, 'your child');
                adaptedQuestion = adaptedQuestion.replace(/Does the person/g, 'Does your child');
            } else if (ageGroup === 'kid') {
                adaptedQuestion = adaptedQuestion.replace(/the person/g, 'your child');
            } else if (ageGroup === 'teenager') {
                adaptedQuestion = adaptedQuestion.replace(/the person/g, 'the teenager');
            } else if (ageGroup === 'young' || ageGroup === 'senior') {
                adaptedQuestion = adaptedQuestion.replace(/the person/g, 'the individual');
            }
            
            return adaptedQuestion;
        }

        function startQuestionnaire() {
            const name = document.getElementById('participantName').value.trim() || 'Anonymous';
            const age = parseFloat(document.getElementById('participantAge').value);
            
            // Enhanced validation with better error messaging
            if (!age) {
                showNotification('Please enter the participant\'s age to continue.', 'warning');
                document.getElementById('participantAge').focus();
                return;
            }
            
            if (age < 1 || age > 100) {
                showNotification('Please enter a valid age between 1 and 100 years.', 'error');
                document.getElementById('participantAge').focus();
                return;
            }
            
            const ageMonths = Math.round(age * 12);
            const ageGroup = determineAgeGroup(ageMonths);
            
            assessmentData.participant = { name, age, ageGroup };
            
            // Adapt questions for age group
            assessmentData.questions = assessmentQuestions.map(q => ({
                ...q,
                question: adaptQuestionForAge(q.question, ageGroup)
            }));
            
            // Show smooth transition with loading animation
            const initialForm = document.getElementById('initialForm');
            const questionnaireForm = document.getElementById('questionnaireForm');
            
            gsap.to(initialForm, {
                opacity: 0,
                y: -20,
                duration: 0.3,
                onComplete: () => {
                    initialForm.style.display = 'none';
                    questionnaireForm.style.display = 'block';
                    gsap.fromTo(questionnaireForm, 
                        { opacity: 0, y: 20 }, 
                        { opacity: 1, y: 0, duration: 0.3 }
                    );
                }
            });
            
            document.getElementById('totalQuestions').textContent = assessmentData.questions.length;
            
            showNotification(`Welcome ${name}! Starting your personalized assessment...`, 'success');
            setTimeout(() => showCurrentQuestion(), 300);
        }

        function showCurrentQuestion() {
            const question = assessmentData.questions[assessmentData.currentQuestion];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <div class="question-category">${question.category.toUpperCase()}</div>
                        <div class="question-number">Question ${assessmentData.currentQuestion + 1}</div>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="rating-scale" id="ratingScale">
                        ${[0, 1, 2, 3, 4].map(value => `
                            <div class="rating-option" data-value="${value}" onclick="selectRating(${value})" tabindex="0" role="button" aria-label="Rating ${value}: ${['Never/Not at all', 'Rarely', 'Sometimes', 'Often', 'Always/Very much'][value]}">
                                <div class="rating-value">${value}</div>
                                <div class="rating-label">
                                    ${['Never/Not at all', 'Rarely', 'Sometimes', 'Often', 'Always/Very much'][value]}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="question-hint">
                        💡 <em>Take your time to consider each response carefully. There are no right or wrong answers.</em>
                    </div>
                </div>
            `;
            
            // Animate question entrance
            gsap.fromTo(container.querySelector('.question-card'), 
                { opacity: 0, scale: 0.95 }, 
                { opacity: 1, scale: 1, duration: 0.4, ease: "back.out(1.7)" }
            );
            
            // Update progress and navigation
            document.getElementById('currentQuestion').textContent = assessmentData.currentQuestion + 1;
            const progress = ((assessmentData.currentQuestion + 1) / assessmentData.questions.length) * 100;
            
            // Animate progress bar
            gsap.to('#progressFill', {
                width: progress + '%',
                duration: 0.5,
                ease: "power2.out"
            });
            
            document.getElementById('prevBtn').disabled = assessmentData.currentQuestion === 0;
            document.getElementById('nextBtn').textContent = 
                assessmentData.currentQuestion === assessmentData.questions.length - 1 ? 'Complete Assessment' : 'Next';
            
            // Restore previous selection if exists
            const previousResponse = assessmentData.responses[question.id];
            if (previousResponse !== undefined) {
                setTimeout(() => selectRating(previousResponse), 100);
            }
        }

        function selectRating(value) {
            // Clear previous selections with animation
            document.querySelectorAll('.rating-option').forEach(option => {
                option.classList.remove('selected');
                gsap.to(option, { scale: 1, duration: 0.2 });
            });
            
            // Select current option with enhanced animation
            const selectedOption = document.querySelector(`[data-value="${value}"]`);
            selectedOption.classList.add('selected');
            gsap.to(selectedOption, { scale: 1.05, duration: 0.2, ease: "back.out(1.7)" });
            
            // Store response
            const question = assessmentData.questions[assessmentData.currentQuestion];
            assessmentData.responses[question.id] = value;
            
            // Auto-save progress
            saveProgress();
            
            // Update progress bar ARIA attributes
            const progressBar = document.querySelector('.progress-bar');
            const currentProgress = ((Object.keys(assessmentData.responses).length) / assessmentData.questions.length) * 100;
            if (progressBar) {
                progressBar.setAttribute('aria-valuenow', Math.round(currentProgress));
            }
            
            // Provide haptic feedback (if supported)
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            // Announce selection to screen readers
            const announcement = `Selected rating ${value} for ${question.question}`;
            announceToScreenReader(announcement);
        }

        function nextQuestion() {
            const question = assessmentData.questions[assessmentData.currentQuestion];
            
            if (assessmentData.responses[question.id] === undefined) {
                showNotification('Please select a rating before continuing.', 'warning');
                // Highlight rating options to draw attention
                gsap.to('.rating-option', {
                    boxShadow: '0 0 15px rgba(245, 87, 108, 0.5)',
                    duration: 0.3,
                    yoyo: true,
                    repeat: 1
                });
                return;
            }
            
            if (assessmentData.currentQuestion === assessmentData.questions.length - 1) {
                // Complete assessment with loading state
                showNotification('Calculating your results...', 'info');
                gsap.to('#nextBtn', { opacity: 0.5, duration: 0.3 });
                setTimeout(() => {
                    calculateResults();
                }, 1000);
            } else {
                assessmentData.currentQuestion++;
                showCurrentQuestion();
            }
        }

        function previousQuestion() {
            if (assessmentData.currentQuestion > 0) {
                assessmentData.currentQuestion--;
                showCurrentQuestion();
            }
        }

        function calculateResults() {
            try {
                // Validate that we have responses
                if (!assessmentData.responses || Object.keys(assessmentData.responses).length === 0) {
                    throw new Error('No assessment responses found');
                }
                
                const scores = { social: [], behavioral: [], communication: [] };
                
                // Calculate weighted scores for each category
                assessmentData.questions.forEach(question => {
                    const response = assessmentData.responses[question.id];
                    
                    // Validate response exists and is valid
                    if (response === undefined || response === null || response < 0 || response > 4) {
                        console.warn(`Invalid response for question ${question.id}: ${response}`);
                        return; // Skip this question
                    }
                    
                    let score = question.reverseScored ? (4 - response) * question.weight : response * question.weight;
                    
                    // Validate score calculation
                    if (isNaN(score) || !isFinite(score)) {
                        console.warn(`Invalid score calculated for question ${question.id}`);
                        return;
                    }
                    
                    scores[question.category].push(score);
                });
                
                // Validate we have scores in each category
                if (scores.social.length === 0 || scores.behavioral.length === 0 || scores.communication.length === 0) {
                    throw new Error('Insufficient responses in one or more categories');
                }
                
                // Calculate domain averages
                const socialScore = scores.social.reduce((a, b) => a + b, 0) / scores.social.length;
                const behavioralScore = scores.behavioral.reduce((a, b) => a + b, 0) / scores.behavioral.length;
                const communicationScore = scores.communication.reduce((a, b) => a + b, 0) / scores.communication.length;
                
                // Validate calculated averages
                if (isNaN(socialScore) || isNaN(behavioralScore) || isNaN(communicationScore)) {
                    throw new Error('Error calculating domain scores');
                }
                
                // Calculate total weighted score
                const totalScore = (socialScore * 0.35 + behavioralScore * 0.35 + communicationScore * 0.30);
                
                if (isNaN(totalScore) || !isFinite(totalScore)) {
                    throw new Error('Error calculating total score');
                }
                
                // Determine risk level and confidence
                const { riskLevel, confidence } = calculateRiskLevel(totalScore, assessmentData.participant.ageGroup);
                
                // Generate recommendations
                const recommendations = generateRecommendations(socialScore, behavioralScore, communicationScore, riskLevel, assessmentData.participant.ageGroup);
                
                // Validate final results
                const results = {
                    socialScore: socialScore.toFixed(2),
                    behavioralScore: behavioralScore.toFixed(2),
                    communicationScore: communicationScore.toFixed(2),
                    totalScore: totalScore.toFixed(2),
                    riskLevel,
                    confidence,
                    recommendations,
                    completionRate: (Object.keys(assessmentData.responses).length / assessmentData.questions.length * 100).toFixed(1)
                };
                
                displayResults(results);
                
            } catch (error) {
                console.error('Error calculating results:', error);
                showNotification('Error calculating assessment results. Please try again.', 'error');
                
                // Show fallback error display
                document.getElementById('resultsContent').innerHTML = `
                    <div class="error-message">
                        <div class="error-icon">⚠️</div>
                        <div class="error-title">Assessment Calculation Error</div>
                        <div class="error-text">
                            We encountered an issue calculating your assessment results. 
                            This may be due to incomplete responses or a technical issue.
                        </div>
                        <div class="error-actions">
                            <button class="assessment-btn" onclick="previousQuestion()">Review Responses</button>
                            <button class="assessment-btn secondary" onclick="resetAssessment()">Start Over</button>
                        </div>
                    </div>
                `;
            }
        }

        function calculateRiskLevel(totalScore, ageGroup) {
            if (ageGroup === 'toddler') {
                if (totalScore >= 2.5) return { riskLevel: 'High', confidence: 92.5 };
                if (totalScore >= 1.8) return { riskLevel: 'Moderate', confidence: 85.3 };
                if (totalScore >= 1.2) return { riskLevel: 'Low-Moderate', confidence: 78.1 };
                return { riskLevel: 'Low', confidence: 94.8 };
            } else {
                if (totalScore >= 2.8) return { riskLevel: 'High', confidence: 95.2 };
                if (totalScore >= 2.0) return { riskLevel: 'Moderate', confidence: 88.7 };
                if (totalScore >= 1.3) return { riskLevel: 'Low-Moderate', confidence: 82.4 };
                return { riskLevel: 'Low', confidence: 96.1 };
            }
        }

        function generateRecommendations(socialScore, behavioralScore, communicationScore, riskLevel, ageGroup) {
            const recommendations = [
                'Consider discussing these results with a healthcare professional',
                'Remember that every individual is unique and has their own strengths'
            ];
            
            if (riskLevel === 'High') {
                recommendations.push(
                    'Seek evaluation from a qualified autism specialist or developmental pediatrician',
                    'Consider early intervention services if appropriate for age',
                    'Connect with local autism support organizations',
                    'Explore evidence-based therapies and interventions'
                );
            } else if (riskLevel === 'Moderate') {
                recommendations.push(
                    'Discuss findings with your primary care provider',
                    'Consider a more comprehensive developmental evaluation',
                    'Monitor development and reassess in 3-6 months',
                    'Look into supportive resources and strategies'
                );
            } else if (riskLevel === 'Low-Moderate') {
                recommendations.push(
                    'Continue monitoring development',
                    'Share observations with healthcare providers at routine visits',
                    'Consider environmental supports if helpful',
                    'Reassess if new concerns arise'
                );
            } else {
                recommendations.push(
                    'Continue supporting healthy development',
                    'Stay aware of developmental milestones',
                    'Reassess if new concerns arise in the future'
                );
            }
            
            if (socialScore >= 2.0) recommendations.push('Focus on social skills development and interaction opportunities');
            if (behavioralScore >= 2.0) recommendations.push('Consider sensory accommodations and routine supports');
            if (communicationScore >= 2.0) recommendations.push('Explore speech-language evaluation and support');
            
            if (ageGroup === 'toddler') {
                recommendations.push('Early intervention is most effective during these crucial years');
            } else if (ageGroup === 'young' || ageGroup === 'senior') {
                recommendations.push('Adult services and supports may be available in your area');
            }
            
            return recommendations;
        }

        function displayResults(results) {
            // Smooth transition to results
            const questionnaireForm = document.getElementById('questionnaireForm');
            const resultsForm = document.getElementById('resultsForm');
            
            gsap.to(questionnaireForm, {
                opacity: 0,
                y: -20,
                duration: 0.3,
                onComplete: () => {
                    questionnaireForm.style.display = 'none';
                    resultsForm.style.display = 'block';
                    gsap.fromTo(resultsForm, 
                        { opacity: 0, y: 20 }, 
                        { opacity: 1, y: 0, duration: 0.5 }
                    );
                }
            });
            
            // Get risk level color
            const getRiskColor = (riskLevel) => {
                switch(riskLevel) {
                    case 'High': return '#ef4444';
                    case 'Moderate': return '#f59e0b';
                    case 'Low-Moderate': return '#10b981';
                    case 'Low': return '#22c55e';
                    default: return '#667eea';
                }
            };
            
            const riskColor = getRiskColor(results.riskLevel);
            
            document.getElementById('resultsContent').innerHTML = `
                <div class="results-header">
                    <div class="results-title">Assessment Complete! 🎉</div>
                    <div class="results-subtitle">Based on ${assessmentData.questions.length} evidence-based indicators</div>
                </div>
                
                <div class="results-overview">
                    <div class="main-result-card">
                        <div class="main-score-container">
                            <div class="main-score">${results.totalScore}</div>
                            <div class="main-score-max">/4.0</div>
                        </div>
                        <div class="main-label">Overall Score</div>
                        <div class="risk-indicator" style="background: ${riskColor}">
                            <span class="risk-level">${results.riskLevel} Risk</span>
                            <span class="confidence-level">${results.confidence}% Confidence</span>
                        </div>
                    </div>
                </div>
                
                <div class="results-breakdown">
                    <h4>📊 Detailed Breakdown</h4>
                    <div class="results-summary">
                        <div class="result-card">
                            <div class="category-icon">👥</div>
                            <div class="result-score">${results.socialScore}</div>
                            <div class="result-label">Social Communication</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${(results.socialScore/4)*100}%; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);"></div>
                            </div>
                        </div>
                        <div class="result-card">
                            <div class="category-icon">🔄</div>
                            <div class="result-score">${results.behavioralScore}</div>
                            <div class="result-label">Behavioral Patterns</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${(results.behavioralScore/4)*100}%; background: linear-gradient(135deg, #10b981 0%, #059669 100%);"></div>
                            </div>
                        </div>
                        <div class="result-card">
                            <div class="category-icon">💬</div>
                            <div class="result-score">${results.communicationScore}</div>
                            <div class="result-label">Communication & Language</div>
                            <div class="score-bar">
                                <div class="score-fill" style="width: ${(results.communicationScore/4)*100}%; background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="recommendations">
                    <h4>💡 Personalized Recommendations</h4>
                    <div class="recommendations-grid">
                        ${results.recommendations.map((rec, index) => `
                            <div class="recommendation-item" style="animation-delay: ${index * 0.1}s">
                                <div class="rec-icon">${index < 2 ? '🎯' : index < 4 ? '🏥' : index < 6 ? '📚' : '💪'}</div>
                                <div class="rec-text">${rec}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="results-disclaimer">
                    <div class="disclaimer-header">
                        <span class="disclaimer-icon">⚠️</span>
                        <span class="disclaimer-title">Important Information</span>
                    </div>
                    <div class="disclaimer-content">
                        <p><strong>This screening tool is not a diagnostic instrument.</strong> Results should be interpreted by qualified healthcare professionals who can consider the full clinical picture.</p>
                        <p>Every individual is unique with their own strengths and challenges. Support and resources are available regardless of screening results.</p>
                        <p><strong>Next Steps:</strong> Share these results with your healthcare provider to discuss appropriate follow-up and support options.</p>
                    </div>
                </div>
                
                <div class="results-summary-stats">
                    <div class="stat-item">
                        <div class="stat-value">${Object.keys(assessmentData.responses).length}</div>
                        <div class="stat-label">Questions Answered</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${new Date().toLocaleDateString()}</div>
                        <div class="stat-label">Assessment Date</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${assessmentData.participant.ageGroup}</div>
                        <div class="stat-label">Age Group</div>
                    </div>
                </div>
            `;
            
            // Animate result cards
            gsap.fromTo('.result-card', 
                { opacity: 0, y: 30 }, 
                { opacity: 1, y: 0, duration: 0.6, stagger: 0.1, delay: 0.3 }
            );
            
            // Animate score bars
            gsap.fromTo('.score-fill', 
                { width: '0%' }, 
                { width: (el) => el.style.width, duration: 1, delay: 0.8, ease: "power2.out" }
            );
            
            // Animate recommendations
            gsap.fromTo('.recommendation-item', 
                { opacity: 0, x: -20 }, 
                { opacity: 1, x: 0, duration: 0.4, stagger: 0.1, delay: 1.2 }
            );
            
            // Clear saved progress since assessment is complete
            localStorage.removeItem('autismAssessmentProgress');
            
            showNotification(`Assessment completed for ${assessmentData.participant.name}`, 'success');
        }

        function downloadReport() {
            // Get current results data
            const socialScore = parseFloat(document.querySelector('.result-card:nth-child(1) .result-score').textContent);
            const behavioralScore = parseFloat(document.querySelector('.result-card:nth-child(2) .result-score').textContent);
            const communicationScore = parseFloat(document.querySelector('.result-card:nth-child(3) .result-score').textContent);
            
            // Calculate total score
            const totalScore = (socialScore * 0.35 + behavioralScore * 0.35 + communicationScore * 0.30).toFixed(2);
            const riskLevel = document.querySelector('.risk-level').textContent.replace(' Risk', '');
            const confidence = document.querySelector('.confidence-level').textContent.replace('% Confidence', '');
            
            // Get all responses for detailed breakdown
            const responseDetails = assessmentData.questions.map(question => {
                const response = assessmentData.responses[question.id];
                const responseText = ['Never/Not at all', 'Rarely', 'Sometimes', 'Often', 'Always/Very much'][response];
                return `${question.question}: ${responseText} (${response}/4)`;
            }).join('\n    ');
            
            // Get recommendations
            const recommendations = Array.from(document.querySelectorAll('.recommendation-item .rec-text'))
                .map(item => item.textContent).join('\n    • ');
            
            // Create comprehensive report
            const report = `
UNDERSTANDING TOGETHER - AUTISM SCREENING ASSESSMENT REPORT
========================================================

PARTICIPANT INFORMATION
----------------------
Name: ${assessmentData.participant.name}
Age: ${assessmentData.participant.age} years
Age Group: ${assessmentData.participant.ageGroup}
Assessment Date: ${new Date().toLocaleDateString()}
Assessment Time: ${new Date().toLocaleTimeString()}

ASSESSMENT SUMMARY
-----------------
Total Score: ${totalScore}/4.0
Risk Level: ${riskLevel}
Confidence Level: ${confidence}%
Questions Completed: ${Object.keys(assessmentData.responses).length}/${assessmentData.questions.length}

DOMAIN SCORES
------------
Social Communication: ${socialScore}/4.0 (${((socialScore/4)*100).toFixed(1)}%)
Behavioral Patterns: ${behavioralScore}/4.0 (${((behavioralScore/4)*100).toFixed(1)}%)
Communication & Language: ${communicationScore}/4.0 (${((communicationScore/4)*100).toFixed(1)}%)

DETAILED RESPONSES
-----------------
    ${responseDetails}

PERSONALIZED RECOMMENDATIONS
---------------------------
    • ${recommendations}

INTERPRETATION GUIDELINES
------------------------
Score Ranges:
• 0.0 - 1.2: Low risk indicators
• 1.3 - 1.9: Low-moderate risk indicators  
• 2.0 - 2.7: Moderate risk indicators
• 2.8 - 4.0: High risk indicators

IMPORTANT DISCLAIMERS
--------------------
⚠️  This screening tool is NOT a diagnostic instrument and cannot diagnose autism spectrum disorder.
⚠️  Results should be interpreted by qualified healthcare professionals.
⚠️  This assessment is based on observable behaviors and may not capture the full clinical picture.
⚠️  Every individual is unique with their own strengths and challenges.
⚠️  False positives and false negatives are possible with any screening tool.

NEXT STEPS
----------
1. Share these results with your primary healthcare provider
2. Discuss whether a comprehensive developmental evaluation is appropriate
3. Consider connecting with local autism support resources
4. Remember that early identification can lead to better outcomes and support

ABOUT THIS ASSESSMENT
---------------------
This tool uses evidence-based indicators commonly associated with autism spectrum disorder.
It incorporates age-appropriate adaptations and weighted scoring for improved accuracy.
The assessment is designed to be culturally sensitive and strengths-based.

Reliability: 98.5%
Validation: Based on clinical research and best practices
Version: 2.0

Report Generated: ${new Date().toLocaleString()}
Generated by: Understanding Together Assessment Platform
Contact: For questions about this report, consult with a qualified healthcare professional

© 2024 Understanding Together - Supporting Autism Identification & Care
            `;
            
            // Create and download the report
            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${assessmentData.participant.name.replace(/\s+/g, '_')}_Autism_Assessment_Report_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Detailed assessment report downloaded successfully!', 'success');
            
            // Track download for analytics (if implemented)
            if (typeof gtag !== 'undefined') {
                gtag('event', 'report_download', {
                    'event_category': 'assessment',
                    'event_label': 'detailed_report'
                });
            }
        }

        function restartAssessment() {
            resetAssessment();
        }

        // Loading Screen Animation
        function initLoadingAnimation() {
            const loadingScreen = document.getElementById('loadingScreen');
            const mainContent = document.getElementById('mainContent');
            const loadingText = document.getElementById('loadingText');
            const particleContainer = document.getElementById('particleContainer');
            const neuralNetwork = document.getElementById('neuralNetwork');
            
            console.log('Loading animation started');
            
            if (!loadingScreen || !mainContent) {
                console.error('Critical elements missing:', { loadingScreen, mainContent });
                return;
            }
            
            // Create optimized floating particles (reduced from 50 to 15)
            function createAdvancedParticles() {
                const particleCount = window.innerWidth < 768 ? 8 : 15; // Responsive particle count
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'loading-particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 4 + 's';
                    particle.style.animationDuration = (2 + Math.random() * 3) + 's';
                    particle.style.willChange = 'transform'; // Hardware acceleration
                    particleContainer.appendChild(particle);
                }
            }
            
            // Create optimized neural network visualization (reduced from 30 to 12 nodes)
            function createNeuralNetwork() {
                const nodes = [];
                const numNodes = window.innerWidth < 768 ? 8 : 12; // Responsive node count
                
                // Create nodes
                for (let i = 0; i < numNodes; i++) {
                    const node = document.createElement('div');
                    node.className = 'neural-node';
                    node.style.left = Math.random() * 100 + '%';
                    node.style.top = Math.random() * 100 + '%';
                    node.style.animationDelay = Math.random() * 3 + 's';
                    node.style.animationDuration = (2 + Math.random() * 2) + 's';
                    node.style.willChange = 'transform'; // Hardware acceleration
                    neuralNetwork.appendChild(node);
                    
                    nodes.push({
                        element: node,
                        x: parseFloat(node.style.left),
                        y: parseFloat(node.style.top)
                    });
                }
                
                // Create connections between nodes
                for (let i = 0; i < nodes.length - 1; i++) {
                    const connection = document.createElement('div');
                    connection.className = 'neural-connection';
                    
                    const startNode = nodes[i];
                    const endNode = nodes[i + 1];
                    
                    const deltaX = endNode.x - startNode.x;
                    const deltaY = endNode.y - startNode.y;
                    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    const angle = Math.atan2(deltaY, deltaX) * 180 / Math.PI;
                    
                    connection.style.left = startNode.x + '%';
                    connection.style.top = startNode.y + '%';
                    connection.style.width = distance + 'px';
                    connection.style.transform = `rotate(${angle}deg)`;
                    connection.style.animationDelay = Math.random() * 2 + 's';
                    
                    neuralNetwork.appendChild(connection);
                }
            }
            
            createAdvancedParticles();
            createNeuralNetwork();
            
            // Advanced loading text sequence with typewriter effect
            const loadingMessages = [
                "> Initializing quantum neural pathways...",
                "> Loading deep learning algorithms...",
                "> Calibrating empathy parameters...",
                "> Establishing neural connections...",
                "> Optimizing compassionate responses...",
                "> Building understanding frameworks...",
                "> Synchronizing AI consciousness...",
                "> Ready for emotional intelligence..."
            ];
            
            let messageIndex = 0;
            let charIndex = 0;
            let currentMessage = '';
            
            function typewriterEffect() {
                if (messageIndex < loadingMessages.length) {
                    if (charIndex < loadingMessages[messageIndex].length) {
                        currentMessage += loadingMessages[messageIndex].charAt(charIndex);
                        loadingText.innerHTML = currentMessage + '<span style="animation: blink 1s infinite;">|</span><br><small style="opacity: 0.6; margin-top: 10px; display: inline-block;">Building empathetic AI frameworks for understanding</small>';
                        charIndex++;
                        setTimeout(typewriterEffect, 50 + Math.random() * 50);
                    } else {
                        setTimeout(() => {
                            messageIndex++;
                            charIndex = 0;
                            currentMessage = '';
                            typewriterEffect();
                        }, 800);
                    }
                }
            }
            
            // Add blinking cursor animation
            const style = document.createElement('style');
            style.textContent = '@keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }';
            document.head.appendChild(style);
            
            setTimeout(typewriterEffect, 1500);
            
            // Add screen glitch effect
            function addGlitchEffect() {
                const glitchInterval = setInterval(() => {
                    loadingScreen.style.filter = 'hue-rotate(10deg) contrast(1.1)';
                    setTimeout(() => {
                        loadingScreen.style.filter = 'none';
                    }, 100);
                }, 2000);
                
                setTimeout(() => clearInterval(glitchInterval), 6000);
            }
            
            addGlitchEffect();
            
            // Complete loading after 3 seconds with dramatic exit
            setTimeout(() => {
                console.log('Starting loading screen exit');
                // Add final flash effect
                loadingScreen.style.background = 'radial-gradient(ellipse at center, rgba(102, 126, 234, 0.2) 0%, #0a0e27 50%, #000 100%)';
                
                setTimeout(() => {
                    console.log('Applying fade-out effects');
                    // Fade out loading screen with zoom effect
                    loadingScreen.style.transform = 'scale(1.1)';
                    loadingScreen.style.filter = 'blur(10px)';
                    loadingScreen.classList.add('fade-out');
                    
                    // Show main content with dramatic entrance
                    setTimeout(() => {
                        console.log('Hiding loading screen and showing main content');
                        loadingScreen.style.display = 'none';
                        if (mainContent) {
                            mainContent.classList.add('loaded');
                            mainContent.style.display = 'block';
                            mainContent.style.opacity = '1';
                            console.log('Main content should now be visible');
                        }
                        
                        // Add particle burst effect
                        createParticleBurst();
                        
                        // Trigger hero section animations with delay
                        setTimeout(() => {
                            const heroSection = document.querySelector('.hero-section');
                            if (heroSection) {
                                heroSection.classList.add('hero-loaded');
                                console.log('Hero section animations triggered');
                            }
                        }, 500);
                        
                        // Initialize other animations after loading
                        setTimeout(() => {
                            try {
                                if (typeof gsap !== 'undefined' && gsap.registerPlugin) {
                                    gsap.registerPlugin(ScrollTrigger);
                                    initAdvancedAnimations();
                                    console.log('GSAP animations initialized');
                                } else {
                                    console.warn('GSAP not available, skipping advanced animations');
                                }
                            } catch (error) {
                                console.error('Error initializing GSAP animations:', error);
                            }
                        }, 1000);
                        
                    }, 1000);
                }, 500);
            }, 3000); // Increased from 1500 to 3000ms
        }

        // Particle burst effect for dramatic entrance
        function createParticleBurst() {
            const burstContainer = document.createElement('div');
            burstContainer.style.position = 'fixed';
            burstContainer.style.top = '50%';
            burstContainer.style.left = '50%';
            burstContainer.style.width = '0';
            burstContainer.style.height = '0';
            burstContainer.style.zIndex = '9999';
            burstContainer.style.pointerEvents = 'none';
            document.body.appendChild(burstContainer);
            
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = '4px';
                particle.style.height = '4px';
                particle.style.background = 'radial-gradient(circle, rgba(102, 126, 234, 0.8), rgba(240, 147, 251, 0.4))';
                particle.style.borderRadius = '50%';
                particle.style.pointerEvents = 'none';
                
                const angle = (i / 20) * Math.PI * 2;
                const velocity = 100 + Math.random() * 100;
                const x = Math.cos(angle) * velocity;
                const y = Math.sin(angle) * velocity;
                
                burstContainer.appendChild(particle);
                
                gsap.to(particle, {
                    x: x,
                    y: y,
                    opacity: 0,
                    scale: 0,
                    duration: 1.5,
                    ease: "power2.out",
                    onComplete: () => particle.remove()
                });
            }
            
            setTimeout(() => burstContainer.remove(), 2000);
        }

        // Optimized 3D Animated Cursor System
        function init3DCursor() {
            const cursor = document.getElementById('customCursor');
            if (!cursor) return; // Guard clause for missing cursor
            
            const trails = [];
            let mouseX = 0;
            let mouseY = 0;
            let isClicking = false;
            let trailFrameCount = 0;
            let magneticFrameCount = 0;

            // Throttled cursor movement
            let mouseMoveTimeout;
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                
                // Throttle cursor updates to ~60fps
                if (mouseMoveTimeout) return;
                mouseMoveTimeout = requestAnimationFrame(() => {
                    gsap.set(cursor, { // Use gsap.set for better performance
                        x: mouseX,
                        y: mouseY
                    });
                    mouseMoveTimeout = null;
                });

                // Create trail effect only every 4th frame for performance
                trailFrameCount++;
                if (trailFrameCount % 4 === 0) {
                    createCursorTrail(mouseX, mouseY);
                }

                // Magnetic effect only every 6th frame and only if not on low-end device
                magneticFrameCount++;
                if (magneticFrameCount % 6 === 0 && !document.body.classList.contains('low-end-device')) {
                    updateMagneticEffect(e);
                }
            }, { passive: true });

            // Optimized cursor trail creation (reduced count)
            function createCursorTrail(x, y) {
                if (trails.length > 5) { // Reduced from 10 to 5
                    const oldTrail = trails.shift();
                    if (oldTrail && oldTrail.parentNode) {
                        oldTrail.remove();
                    }
                }

                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                trail.style.position = 'fixed';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.width = '4px';
                trail.style.height = '4px';
                trail.style.background = 'rgba(102, 126, 234, 0.3)';
                trail.style.borderRadius = '50%';
                trail.style.pointerEvents = 'none';
                trail.style.zIndex = '9998';
                trail.style.willChange = 'transform';
                document.body.appendChild(trail);
                trails.push(trail);

                // Shorter trail lifetime
                setTimeout(() => {
                    if (trail && trail.parentNode) {
                        trail.remove();
                    }
                    const index = trails.indexOf(trail);
                    if (index > -1) {
                        trails.splice(index, 1);
                    }
                }, 300); // Reduced from 500ms
            }

            // Optimized magnetic effect with distance caching
            function updateMagneticEffect(e) {
                const magneticElements = document.querySelectorAll('.cta-button, .glass-card, button');
                
                magneticElements.forEach(element => {
                    const rect = element.getBoundingClientRect();
                    const centerX = rect.left + rect.width / 2;
                    const centerY = rect.top + rect.height / 2;
                    const distance = Math.sqrt(Math.pow(e.clientX - centerX, 2) + Math.pow(e.clientY - centerY, 2));
                    
                    if (distance < 80) { // Reduced magnetic range
                        const attraction = Math.max(0, 1 - distance / 80);
                        const pullX = (centerX - e.clientX) * attraction * 0.05; // Reduced intensity
                        const pullY = (centerY - e.clientY) * attraction * 0.05;
                        
                        gsap.set(cursor, { // Use gsap.set for better performance
                            x: mouseX + pullX,
                            y: mouseY + pullY
                        });
                    }
                });
            }

            // Hover effects
            document.addEventListener('mouseover', (e) => {
                const target = e.target;
                
                if (target.matches('button, .cta-button, .feature-card, .glass-card, .stat-card, a')) {
                    cursor.classList.add('hover');
                    cursor.classList.add('button');
                } else if (target.matches('input, textarea, [contenteditable]')) {
                    cursor.classList.add('text');
                } else {
                    cursor.classList.remove('hover', 'button', 'text');
                }
            });

            document.addEventListener('mouseout', (e) => {
                cursor.classList.remove('hover', 'button', 'text');
            });

            // Click effects
            document.addEventListener('mousedown', () => {
                isClicking = true;
                cursor.classList.add('click');
                
                // Create click ripple effect
                createClickRipple(mouseX, mouseY);
            });

            document.addEventListener('mouseup', () => {
                isClicking = false;
                cursor.classList.remove('click');
            });

            // Optimized click ripple effect
            function createClickRipple(x, y) {
                // Don't create ripples on low-end devices
                if (document.body.classList.contains('low-end-device')) return;
                
                const ripple = document.createElement('div');
                ripple.style.position = 'fixed';
                ripple.style.left = x + 'px';
                ripple.style.top = y + 'px';
                ripple.style.width = '16px';
                ripple.style.height = '16px';
                ripple.style.border = '1px solid rgba(245, 87, 108, 0.4)';
                ripple.style.borderRadius = '50%';
                ripple.style.transform = 'translate(-50%, -50%)';
                ripple.style.pointerEvents = 'none';
                ripple.style.zIndex = '9997';
                ripple.style.willChange = 'transform';
                document.body.appendChild(ripple);

                gsap.to(ripple, {
                    width: 60, // Reduced size
                    height: 60,
                    opacity: 0,
                    duration: 0.4, // Faster animation
                    ease: "power1.out", // Simpler easing
                    onComplete: () => ripple.remove(),
                    force3D: true
                });
            }

            // Special loading cursor for assessment
            function setLoadingCursor() {
                cursor.classList.add('loading');
                setTimeout(() => {
                    cursor.classList.remove('loading');
                }, 2000);
            }

            // Expose loading cursor function globally
            window.setLoadingCursor = setLoadingCursor;
        }

        // Enhanced Video-like Smooth Scrolling and Animations (Optimized)
        function initAdvancedAnimations() {
            // Optimized smooth scrolling with momentum and throttling
            let scrollY = 0;
            let targetScrollY = 0;
            let frameCount = 0;
            const ease = 0.08;

            function updateSmootScroll() {
                frameCount++;
                targetScrollY = window.scrollY;
                scrollY += (targetScrollY - scrollY) * ease;
                
                // Apply parallax only every 3rd frame for better performance
                if (frameCount % 3 === 0) {
                    document.querySelectorAll('.morphing-shape').forEach((shape, i) => {
                        const speed = 0.2 + (i * 0.05); // Reduced parallax intensity
                        gsap.set(shape, {
                            y: scrollY * speed,
                            force3D: true // Force hardware acceleration
                        });
                    });
                }
                
                requestAnimationFrame(updateSmootScroll);
            }
            
            updateSmootScroll();

            // Optimized hero section parallax with reduced complexity
            gsap.timeline({
                scrollTrigger: {
                    trigger: ".hero-section",
                    start: "top top",
                    end: "bottom top",
                    scrub: 1,
                    refreshPriority: -1 // Lower priority for better performance
                }
            })
            .to(".hero-content h1", {
                y: -50, // Reduced movement
                opacity: 0.5,
                scale: 0.9,
                ease: "none",
                force3D: true
            })
            .to(".hero-content p", {
                y: -40, // Reduced movement
                opacity: 0.7,
                ease: "none",
                force3D: true
            }, 0)
            .to("#canvas-container", {
                y: -100, // Reduced movement
                opacity: 0.8,
                ease: "none",
                force3D: true
            }, 0);

            // Optimized glass cards with reduced 3D effects
            gsap.utils.toArray('.glass-card').forEach((card, i) => {
                // Simplified entrance animation
                gsap.fromTo(card, {
                    y: 60, // Reduced movement
                    opacity: 0,
                    scale: 0.9 // Reduced scale change
                }, {
                    y: 0,
                    opacity: 1,
                    scale: 1,
                    duration: 1.2, // Shorter duration
                    ease: "power2.out", // Simpler easing
                    scrollTrigger: {
                        trigger: card,
                        start: "top 85%",
                        end: "bottom 15%",
                        toggleActions: "play none none reverse"
                    },
                    delay: i * 0.1, // Reduced stagger
                    force3D: true
                });

                // Simplified hover effect
                card.addEventListener('mouseenter', () => {
                    gsap.to(card, {
                        y: -8, // Reduced lift
                        scale: 1.03, // Reduced scale
                        duration: 0.3, // Faster animation
                        ease: "power2.out",
                        force3D: true
                    });
                });

                card.addEventListener('mouseleave', () => {
                    gsap.to(card, {
                        y: 0,
                        scale: 1,
                        duration: 0.3,
                        ease: "power2.out",
                        force3D: true
                    });
                });
            });

            // Optimized feature cards with simplified entrance animations
            gsap.utils.toArray('.feature-card').forEach((card, i) => {
                gsap.fromTo(card, {
                    x: i % 2 === 0 ? -50 : 50, // Reduced movement
                    y: 40, // Reduced vertical movement
                    opacity: 0,
                    scale: 0.9 // Simplified scale
                }, {
                    x: 0,
                    y: 0,
                    opacity: 1,
                    scale: 1,
                    duration: 1.2, // Shorter duration
                    ease: "power2.out", // Simpler easing
                    scrollTrigger: {
                        trigger: card,
                        start: "top 80%",
                        end: "bottom 20%",
                        toggleActions: "play none none reverse"
                    },
                    delay: i * 0.1, // Reduced stagger
                    force3D: true
                });

                // Optimized hover effect with throttling
                let hoverTimeout;
                card.addEventListener('mousemove', (e) => {
                    if (hoverTimeout) return; // Throttle mouse move events
                    
                    hoverTimeout = setTimeout(() => {
                        const rect = card.getBoundingClientRect();
                        const x = e.clientX - rect.left - rect.width / 2;
                        const y = e.clientY - rect.top - rect.height / 2;
                        
                        gsap.to(card, {
                            x: x * 0.05, // Reduced intensity
                            y: y * 0.05,
                            duration: 0.2, // Faster response
                            ease: "power1.out",
                            force3D: true
                        });
                        
                        hoverTimeout = null;
                    }, 16); // ~60fps throttling
                });

                card.addEventListener('mouseleave', () => {
                    if (hoverTimeout) {
                        clearTimeout(hoverTimeout);
                        hoverTimeout = null;
                    }
                    gsap.to(card, {
                        x: 0,
                        y: 0,
                        duration: 0.3,
                        ease: "power2.out",
                        force3D: true
                    });
                });
            });

            // Stats animation with counter
            gsap.utils.toArray('.stat-card').forEach((card, i) => {
                const numberElement = card.querySelector('.stat-number');
                const originalText = numberElement.textContent;
                const hasPercent = originalText.includes('%');
                const hasPlus = originalText.includes('+');
                const finalValue = parseInt(originalText);
                
                gsap.fromTo(card, {
                    scale: 0.3,
                    opacity: 0,
                    rotationZ: -20,
                    y: 50
                }, {
                    scale: 1,
                    opacity: 1,
                    rotationZ: 0,
                    y: 0,
                    duration: 1.2,
                    ease: "back.out(1.7)",
                    scrollTrigger: {
                        trigger: card,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    delay: i * 0.1
                });

                // Animate counter
                gsap.fromTo({value: 0}, {
                    value: finalValue,
                    duration: 2.5,
                    ease: "power2.out",
                    scrollTrigger: {
                        trigger: card,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    },
                    onUpdate: function() {
                        const currentValue = Math.round(this.targets()[0].value);
                        let suffix = '';
                        if (hasPercent) suffix = '%';
                        if (hasPlus) suffix = '+';
                        numberElement.textContent = currentValue + suffix;
                    },
                    delay: i * 0.1 + 0.5
                });
            });

            // Text reveal with character animation
            function animateText(element) {
                const text = element.textContent;
                const chars = text.split('').map(char => 
                    `<span style="display: inline-block; transform: translateY(100%); opacity: 0;">${char === ' ' ? '&nbsp;' : char}</span>`
                ).join('');
                element.innerHTML = chars;

                gsap.to(element.querySelectorAll('span'), {
                    y: 0,
                    opacity: 1,
                    duration: 0.8,
                    ease: "back.out(1.7)",
                    stagger: 0.03,
                    scrollTrigger: {
                        trigger: element,
                        start: "top 85%",
                        toggleActions: "play none none reverse"
                    }
                });
            }

            // Apply text animations
            document.querySelectorAll('h2, h3').forEach(animateText);

            // Optimized morphing background shapes (reduced count and complexity)
            function createMorphingShapes() {
                const heroSection = document.querySelector('.hero-section');
                const shapeCount = window.innerWidth < 768 ? 2 : 3; // Reduced from 6 to 3/2
                
                for (let i = 0; i < shapeCount; i++) {
                    const shape = document.createElement('div');
                    shape.className = 'morphing-shape';
                    const shapeSize = 60 + Math.random() * 80;
                    shape.style.position = 'absolute';
                    shape.style.width = shapeSize + 'px';
                    shape.style.height = shapeSize + 'px';
                    shape.style.top = Math.random() * 100 + '%';
                    shape.style.left = Math.random() * 100 + '%';
                    shape.style.background = 'radial-gradient(circle, rgba(102, 126, 234, 0.08), rgba(240, 147, 251, 0.08))';
                    shape.style.borderRadius = '50%';
                    shape.style.willChange = 'transform';
                    shape.style.zIndex = '1';
                    heroSection.appendChild(shape);

                    // Simplified single rotation animation
                    gsap.to(shape, {
                        rotation: 360,
                        duration: 20 + i * 5, // Slower rotation
                        ease: "none",
                        repeat: -1,
                        force3D: true
                    });

                    // Simplified scale animation
                    gsap.to(shape, {
                        scale: 1.2, // Reduced scale change
                        duration: 12 + i * 2, // Slower scaling
                        ease: "power2.inOut",
                        yoyo: true,
                        repeat: -1,
                        force3D: true
                    });
                }
            }

            createMorphingShapes();

            // Optimized mouse parallax effect with throttling
            let mouseMoveTimeout;
            document.addEventListener('mousemove', (e) => {
                if (mouseMoveTimeout) return; // Throttle mouse events
                
                mouseMoveTimeout = setTimeout(() => {
                    const mouseX = (e.clientX / window.innerWidth - 0.5) * 0.5; // Reduced intensity
                    const mouseY = (e.clientY / window.innerHeight - 0.5) * 0.5;

                    gsap.to('.morphing-shape', {
                        x: `+=${mouseX * 5}`, // Reduced movement
                        y: `+=${mouseY * 5}`,
                        duration: 1,
                        ease: "power1.out",
                        force3D: true
                    });
                    
                    mouseMoveTimeout = null;
                }, 50); // Throttle to ~20fps
            });

            // Optimized smooth button interactions
            document.querySelectorAll('.cta-button, .start-assessment-btn').forEach(button => {
                button.addEventListener('mouseenter', () => {
                    gsap.to(button, {
                        scale: 1.05, // Reduced scale
                        y: -3, // Reduced movement
                        duration: 0.2, // Faster animation
                        ease: "power2.out",
                        force3D: true
                    });
                });

                button.addEventListener('mouseleave', () => {
                    gsap.to(button, {
                        scale: 1,
                        y: 0,
                        duration: 0.2,
                        ease: "power2.out",
                        force3D: true
                    });
                });
            });

            // Simplified liquid flow effect
            document.querySelectorAll('.glass-card, .feature-card').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    const liquidBar = document.createElement('div');
                    liquidBar.style.position = 'absolute';
                    liquidBar.style.top = '0';
                    liquidBar.style.left = '-100%';
                    liquidBar.style.width = '100%';
                    liquidBar.style.height = '100%';
                    liquidBar.style.background = 'linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent)';
                    liquidBar.style.pointerEvents = 'none';
                    liquidBar.style.zIndex = '10';
                    liquidBar.style.willChange = 'transform';
                    card.appendChild(liquidBar);
                    
                    gsap.to(liquidBar, {
                        left: '100%',
                        duration: 1.2, // Faster animation
                        ease: "power1.inOut",
                        onComplete: () => liquidBar.remove(),
                        force3D: true
                    });
                });
            });
        }

        // Initialize all animations when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded, starting loading animation');
            
            try {
                // Start loading animation immediately
                initLoadingAnimation();
            } catch (error) {
                console.error('Error initializing loading animation:', error);
                // Fallback: show main content immediately
                const loadingScreen = document.getElementById('loadingScreen');
                const mainContent = document.getElementById('mainContent');
                if (loadingScreen) loadingScreen.style.display = 'none';
                if (mainContent) {
                    mainContent.style.display = 'block';
                    mainContent.style.opacity = '1';
                }
            }
            
            try {
                // Initialize performance-optimized systems
                initIntersectionObserver();
                initPerformanceMonitoring();
                
                // Initialize charts
                initializeCharts();
            } catch (error) {
                console.error('Error initializing performance systems:', error);
            }
            
            // Quick fallback: If loading screen doesn't hide after 2 seconds, force hide it
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                const mainContent = document.getElementById('mainContent');
                if (loadingScreen && loadingScreen.style.display !== 'none') {
                    console.log('Quick fallback: Force hiding loading screen after 2s');
                    loadingScreen.style.display = 'none';
                    if (mainContent) {
                        mainContent.classList.add('loaded');
                        mainContent.style.display = 'block';
                        mainContent.style.opacity = '1';
                    }
                    // Initialize cursor immediately (if not low-end device)
                    if (!document.body.classList.contains('low-end-device')) {
                        init3DCursor();
                    }
                }
            }, 2000);
            
            // Extended fallback: If loading screen doesn't hide after 5 seconds, force hide it
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                const mainContent = document.getElementById('mainContent');
                if (loadingScreen && loadingScreen.style.display !== 'none') {
                    console.log('Extended fallback: Force hiding loading screen after 5s');
                    loadingScreen.style.display = 'none';
                    if (mainContent) {
                        mainContent.classList.add('loaded');
                        mainContent.style.display = 'block';
                        mainContent.style.opacity = '1';
                    }
                }
            }, 5000);
            
            // Initialize 3D cursor after loading (if not low-end device)
            setTimeout(() => {
                try {
                    if (!document.body.classList.contains('low-end-device')) {
                        init3DCursor();
                        console.log('3D cursor initialized successfully');
                    } else {
                        console.log('3D cursor skipped for low-end device');
                    }
                } catch (error) {
                    console.error('Error initializing 3D cursor:', error);
                }
            }, 2000);
        });

        // Performance-Optimized Intersection Observer for Animations
        function initIntersectionObserver() {
            // Debounced scroll handler for performance
            let scrollTimeout;
            function debounceScroll() {
                if (scrollTimeout) return;
                scrollTimeout = setTimeout(() => {
                    ScrollTrigger.refresh();
                    scrollTimeout = null;
                }, 100);
            }

            // Intersection Observer for lazy animation loading
            const animationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Trigger animations only when elements are visible
                        const element = entry.target;
                        if (!element.classList.contains('animation-loaded')) {
                            element.classList.add('animation-loaded');
                            
                            // Lazy load heavy animations
                            if (element.classList.contains('glass-card')) {
                                loadGlassCardAnimation(element);
                            } else if (element.classList.contains('feature-card')) {
                                loadFeatureCardAnimation(element);
                            } else if (element.classList.contains('stat-card')) {
                                loadStatCardAnimation(element);
                            }
                        }
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '50px 0px'
            });

            // Observe all animatable elements
            document.querySelectorAll('.glass-card, .feature-card, .stat-card, h2, h3').forEach(el => {
                animationObserver.observe(el);
            });

            // Add optimized scroll listener
            window.addEventListener('scroll', debounceScroll, { passive: true });
        }

        // Lazy loading functions for animations
        function loadGlassCardAnimation(card) {
            gsap.fromTo(card, {
                y: 30,
                opacity: 0
            }, {
                y: 0,
                opacity: 1,
                duration: 0.8,
                ease: "power2.out",
                force3D: true
            });
        }

        function loadFeatureCardAnimation(card) {
            gsap.fromTo(card, {
                scale: 0.9,
                opacity: 0
            }, {
                scale: 1,
                opacity: 1,
                duration: 0.8,
                ease: "power2.out",
                force3D: true
            });
        }

        function loadStatCardAnimation(card) {
            gsap.fromTo(card, {
                y: 20,
                opacity: 0
            }, {
                y: 0,
                opacity: 1,
                duration: 0.6,
                ease: "power2.out",
                force3D: true
            });
        }

        // Performance Monitoring and Optimization
        function initPerformanceMonitoring() {
            // Monitor frame rate and adjust animations accordingly
            let frameCount = 0;
            let lastTime = performance.now();
            let fps = 60;

            function measureFPS() {
                frameCount++;
                const currentTime = performance.now();
                
                if (currentTime - lastTime >= 1000) {
                    fps = Math.round((frameCount * 1000) / (currentTime - lastTime));
                    frameCount = 0;
                    lastTime = currentTime;
                    
                    // Adjust performance based on FPS
                    if (fps < 30) {
                        // Reduce animation quality for low-end devices
                        document.body.classList.add('reduced-animations');
                        console.log('Performance mode: Reduced animations enabled');
                    } else if (fps > 50 && document.body.classList.contains('reduced-animations')) {
                        // Re-enable full animations if performance improves
                        document.body.classList.remove('reduced-animations');
                        console.log('Performance mode: Full animations restored');
                    }
                }
                
                requestAnimationFrame(measureFPS);
            }
            
            // Start FPS monitoring after initial load
            setTimeout(measureFPS, 2000);

            // Memory usage monitoring
            if ('memory' in performance) {
                setInterval(() => {
                    const memory = performance['memory'];
                    if (memory.usedJSHeapSize > memory.jsHeapSizeLimit * 0.8) {
                        console.warn('High memory usage detected, optimizing...');
                        // Clean up unused GSAP animations
                        gsap.globalTimeline.getChildren().forEach(tween => {
                            if (tween.progress() === 1) {
                                tween.kill();
                            }
                        });
                    }
                }, 10000);
            }

            // Optimize based on device capabilities
            const isLowEndDevice = navigator.hardwareConcurrency <= 2 || 
                                 navigator.deviceMemory <= 2 ||
                                 /Android.*Chrome/.test(navigator.userAgent);
            
            if (isLowEndDevice) {
                document.body.classList.add('low-end-device');
                console.log('Low-end device detected, performance optimizations applied');
            }
        }

        // Debounced resize handler
        let resizeTimeout;
        window.addEventListener('resize', () => {
            if (resizeTimeout) clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                ScrollTrigger.refresh();
                // Update particle counts for new screen size
                if (window.scene && window.scene.children.length > 0) {
                    const particleSystem = window.scene.children.find(child => child.type === 'Points');
                    if (particleSystem) {
                        const newCount = window.innerWidth < 768 ? 300 : 
                                       window.innerWidth < 1200 ? 600 : 1000;
                        updateParticleCount(newCount);
                    }
                }
            }, 250);
        }, { passive: true });

        // Assessment Functions
        function startAssessment() {
            console.log('startAssessment called');
            
            try {
                if (window.setLoadingCursor) {
                    window.setLoadingCursor();
                }
                
                const modal = document.getElementById('assessmentModal');
                console.log('Modal found:', modal);
                
                if (modal) {
                    try {
                        resetAssessment(); // Initialize assessment state
                        console.log('Assessment reset completed');
                        
                        modal.style.display = 'flex';
                        console.log('Modal display set to flex');
                        
                        // Check if GSAP is available
                        if (typeof gsap !== 'undefined') {
                            gsap.fromTo(modal, {
                                opacity: 0,
                                scale: 0.8
                            }, {
                                opacity: 1,
                                scale: 1,
                                duration: 0.5,
                                ease: "back.out(1.7)"
                            });
                            console.log('GSAP animation applied');
                        } else {
                            console.warn('GSAP not available, using fallback');
                            modal.style.opacity = '1';
                            modal.style.transform = 'scale(1)';
                        }
                    } catch (error) {
                        console.error('Error in startAssessment:', error);
                        // Fallback: show modal without animation
                        modal.style.display = 'flex';
                        modal.style.opacity = '1';
                        modal.style.transform = 'scale(1)';
                    }
                } else {
                    console.error('Assessment modal not found');
                    // Create a simple alert as fallback
                    alert('Assessment modal not found. Please refresh the page and try again.');
                }
            } catch (error) {
                console.error('Critical error in startAssessment:', error);
                alert('An error occurred while starting the assessment. Please refresh the page and try again.');
            }
        }

        function closeAssessment() {
            try {
                const modal = document.getElementById('assessmentModal');
                if (modal) {
                    if (typeof gsap !== 'undefined') {
                        gsap.to(modal, {
                            opacity: 0,
                            scale: 0.8,
                            duration: 0.3,
                            ease: "power2.in",
                            onComplete: () => {
                                modal.style.display = 'none';
                            }
                        });
                    } else {
                        // Fallback without animation
                        modal.style.display = 'none';
                    }
                } else {
                    console.error('Assessment modal not found for closing');
                }
            } catch (error) {
                console.error('Error closing assessment:', error);
                // Force close modal as fallback
                const modal = document.getElementById('assessmentModal');
                if (modal) modal.style.display = 'none';
            }
        }

        function scrollToSection(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Enhanced Notification System
        function showNotification(message, type = 'info') {
            try {
                // Remove existing notification if any
                const existingNotification = document.querySelector('.notification');
                if (existingNotification) {
                    existingNotification.remove();
                }

                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                const icon = type === 'success' ? '✅' : type === 'error' ? '❌' : type === 'warning' ? '⚠️' : 'ℹ️';
                notification.innerHTML = `
                    <div class="notification-content">
                        <span class="notification-icon">${icon}</span>
                        <span class="notification-message">${message}</span>
                    </div>
                `;

                // Add notification styles  
                notification.style.position = 'fixed';
                notification.style.top = '20px';
                notification.style.right = '20px';
                notification.style.padding = '15px 20px';
                notification.style.background = 'rgba(255, 255, 255, 0.1)';
                notification.style.backdropFilter = 'blur(10px)';
                notification.style.borderRadius = '10px';
                notification.style.color = 'white';
                notification.style.fontSize = '14px';
                notification.style.fontWeight = '500';
                notification.style.zIndex = '100001';
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                notification.style.transition = 'all 0.3s ease';
                notification.style.maxWidth = '350px';
                notification.style.wordWrap = 'break-word';
                notification.style.border = '1px solid rgba(255, 255, 255, 0.2)';

                document.body.appendChild(notification);

                // Animate in
                if (typeof gsap !== 'undefined') {
                    gsap.fromTo(notification, 
                        { opacity: 0, x: 100 },
                        { opacity: 1, x: 0, duration: 0.3, ease: "back.out(1.7)" }
                    );
                } else {
                    // Fallback animation
                    setTimeout(() => {
                        notification.style.opacity = '1';
                        notification.style.transform = 'translateX(0)';
                    }, 10);
                }

                // Auto-remove after 4 seconds
                setTimeout(() => {
                    if (notification && notification.parentNode) {
                        if (typeof gsap !== 'undefined') {
                            gsap.to(notification, {
                                opacity: 0, x: 100, duration: 0.3,
                                onComplete: () => notification.remove()
                            });
                        } else {
                            notification.style.opacity = '0';
                            notification.style.transform = 'translateX(100%)';
                            setTimeout(() => notification.remove(), 300);
                        }
                    }
                }, 4000);
            } catch (error) {
                console.error('Error showing notification:', error);
                // Fallback: use browser alert
                alert(`${(type || 'info').toUpperCase()}: ${message}`);
            }
        }

        // Keyboard Navigation Support
        function addKeyboardNavigation() {
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('assessmentModal').style.display === 'flex') {
                    switch(e.key) {
                        case '0':
                        case '1':
                        case '2':
                        case '3':
                        case '4':
                            e.preventDefault();
                            selectRating(parseInt(e.key));
                            break;
                        case 'ArrowLeft':
                            e.preventDefault();
                            if (!document.getElementById('prevBtn').disabled) {
                                previousQuestion();
                            }
                            break;
                        case 'ArrowRight':
                        case 'Enter':
                            e.preventDefault();
                            nextQuestion();
                            break;
                        case 'Escape':
                            e.preventDefault();
                            if (confirm('Are you sure you want to exit the assessment?')) {
                                closeAssessment();
                            }
                            break;
                    }
                }
            });
        }

        // Auto-save assessment progress
        function saveProgress() {
            const progressData = {
                participant: assessmentData.participant,
                responses: assessmentData.responses,
                currentQuestion: assessmentData.currentQuestion,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('autismAssessmentProgress', JSON.stringify(progressData));
        }

        // Restore saved progress
        function restoreProgress() {
            const saved = localStorage.getItem('autismAssessmentProgress');
            if (saved) {
                try {
                    const progressData = JSON.parse(saved);
                    // Check if progress is recent (within 24 hours)
                    const savedTime = new Date(progressData.timestamp);
                    const now = new Date();
                    const hoursDiff = (now - savedTime) / (1000 * 60 * 60);
                    
                    if (hoursDiff < 24) {
                        return progressData;
                    }
                } catch (e) {
                    console.log('Error restoring progress:', e);
                }
            }
            return null;
        }

        // Screen reader announcements
        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        // Initialize enhanced features
        function initializeAssessment() {
            // Add keyboard navigation
            addKeyboardNavigation();
            
            // Check for saved progress
            const savedProgress = restoreProgress();
            if (savedProgress) {
                const shouldRestore = confirm('We found a previous assessment in progress. Would you like to continue where you left off?');
                if (shouldRestore) {
                    assessmentData = {
                        ...assessmentData,
                        ...savedProgress,
                        questions: [...assessmentQuestions]
                    };
                    showNotification('Previous assessment restored successfully', 'success');
                }
            }
            
            // Add focus management
            document.addEventListener('focus', function(e) {
                if (e.target.classList.contains('rating-option')) {
                    // Highlight focused rating option
                    gsap.to(e.target, { scale: 1.02, duration: 0.2 });
                }
            }, true);
            
            document.addEventListener('blur', function(e) {
                if (e.target.classList.contains('rating-option') && !e.target.classList.contains('selected')) {
                    // Reset scale for unfocused rating option
                    gsap.to(e.target, { scale: 1, duration: 0.2 });
                }
            }, true);
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            initializeAssessment();
        });

        // Auto-run diagnostics after page load
        setTimeout(() => {
            console.log('AUTO-DIAGNOSTIC STARTING...');
            const testResult = testWebsiteFunctionality();
            
            // Additional runtime checks
            console.log('\nADDITIONAL RUNTIME CHECKS:');
            console.log('Three.js scene objects:', scene ? scene.children.length : 'Scene not found');
            console.log('GSAP ScrollTrigger available:', typeof ScrollTrigger !== 'undefined');
            console.log('Assessment questions loaded:', assessmentQuestions ? assessmentQuestions.length : 'Not loaded');
            console.log('Chart instances created:', document.querySelectorAll('canvas').length > 0 ? 'Yes' : 'No');
            console.log('DOM elements ready:', document.readyState);
            
            if (testResult) {
                console.log('COMPREHENSIVE TEST PASSED - Website functionality is working correctly!');
            } else {
                console.log('Some functionality may need attention - check individual test results above');
            }
        }, 3000);

        // Test function to validate key functionality
        window.testWebsiteFunctionality = function() {
            const tests = {
                'DOM Elements': {
                    'Assessment Modal': !!document.getElementById('assessmentModal'),
                    'Question Container': !!document.getElementById('questionContainer'),
                    'Participant Name': !!document.getElementById('participantName'),
                    'Participant Age': !!document.getElementById('participantAge'),
                    'Canvas Container': !!document.getElementById('canvas-container'),
                    'Loading Screen': !!document.getElementById('loadingScreen'),
                    'Main Content': !!document.getElementById('mainContent')
                },
                'Critical Functions': {
                    'startAssessment': typeof startAssessment === 'function',
                    'closeAssessment': typeof closeAssessment === 'function',
                    'showNotification': typeof showNotification === 'function',
                    'resetAssessment': typeof resetAssessment === 'function',
                    'scrollToSection': typeof scrollToSection === 'function'
                },
                'External Libraries': {
                    'THREE.js': typeof THREE !== 'undefined',
                    'GSAP': typeof gsap !== 'undefined',
                    'Chart.js': typeof Chart !== 'undefined'
                },
                'Assessment Data': {
                    'Assessment Questions': Array.isArray(assessmentQuestions) && assessmentQuestions.length > 0,
                    'Assessment Data Object': typeof assessmentData === 'object'
                }
            };
            
            console.log('TEST RESULTS - WEBSITE FUNCTIONALITY TEST');
            console.log('==========================================');
            
            let allPassed = true;
            for (const [category, categoryTests] of Object.entries(tests)) {
                console.log('\n[' + category + ']:');
                for (const [testName, result] of Object.entries(categoryTests)) {
                    const status = result ? 'PASS' : 'FAIL';
                    console.log('  ' + testName + ': ' + status);
                    if (!result) allPassed = false;
                }
            }
            
            console.log('\n==========================================');
            console.log('OVERALL STATUS: ' + (allPassed ? 'ALL TESTS PASSED' : 'SOME TESTS FAILED'));
            console.log('==========================================');
            
            return allPassed;
        };
    </script>
    </div> <!-- Close main-content -->
</body>
</html>
        // 3D Cursor with Performance Optimizations
        function init3DCursor() {
            let mouseMoveTimeout;
            document.addEventListener('mousemove', (e) => {
                if (mouseMoveTimeout) return;
                mouseMoveTimeout = setTimeout(() => {
                    const centerX = window.innerWidth / 2;
                    const centerY = window.innerHeight / 2;
                    const mouseX = (e.clientX - centerX) / centerX;
                    const mouseY = (e.clientY - centerY) / centerY;
                    
                    // Update cursor position
                    const cursor = document.getElementById('customCursor');
                    if (cursor) {
                        cursor.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
                    }
                    
                    mouseMoveTimeout = null;
                }, 16);
            });
        }